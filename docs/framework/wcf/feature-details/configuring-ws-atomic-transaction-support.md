---
title: Konfigurieren der WS-AtomicTransaction-Unterstützung
ms.date: 03/30/2017
helpviewer_keywords:
- WS-AT protocol [WCF], configuring WS-Atomic Transaction
ms.assetid: cb9f1c9c-1439-4172-b9bc-b01c3e09ac48
ms.openlocfilehash: 9c0e75d58fbcf61137ceae3fba9d8acfe3902171
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/15/2020
ms.locfileid: "90556589"
---
# <a name="configure-ws-atomic-transaction-support"></a><span data-ttu-id="51474-102">Konfigurieren der WS-Atomic Transaction-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="51474-102">Configure WS-Atomic Transaction support</span></span>

<span data-ttu-id="51474-103">In diesem Thema wird beschrieben, wie Sie die WS-AtomicTransaction (WS-AT)-Unterstützung mit dem WS-AT-Konfigurationshilfsprogramm konfigurieren können.</span><span class="sxs-lookup"><span data-stu-id="51474-103">This topic describes how you can configure WS-AtomicTransaction (WS-AT) support by using the WS-AT Configuration Utility.</span></span>

## <a name="use-the-ws-at-configuration-utility"></a><span data-ttu-id="51474-104">Verwenden des WS-AT-Konfigurations Hilfsprogramms</span><span class="sxs-lookup"><span data-stu-id="51474-104">Use the WS-AT configuration utility</span></span>

<span data-ttu-id="51474-105">Das WS-AT-Konfigurationshilfsprogramm (wsatConfig.exe) wird zum Konfigurieren von WS-AT-Einstellungen verwendet.</span><span class="sxs-lookup"><span data-stu-id="51474-105">The WS-AT Configuration Utility (wsatConfig.exe) is used to configure WS-AT settings.</span></span> <span data-ttu-id="51474-106">Zum Aktivieren des WS-AT-Protokolldienstes müssen Sie mithilfe des Konfigurationshilfsprogramms den HTTPS-Anschluss für WS-AT konfigurieren, ein X.509-Zertifikat an den HTTPS-Anschluss binden und autorisierte Partnerzertifikate durch Angabe von Zertifikatantragstellernamen oder Fingerabdrücken konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="51474-106">In order to enable the WS-AT protocol service, you must use the configuration utility to configure the HTTPS port for WS-AT, bind an X.509 certificate to the HTTPS port, and configure authorized partner certificates by specifying certificate subject names or thumbprints.</span></span> <span data-ttu-id="51474-107">Mithilfe des Konfigurationshilfsprogramms können Sie außerdem den Modus für die Ablaufverfolgung auswählen und standardmäßige ausgehende and maximale eingehende Transaktionstimeouts festlegen.</span><span class="sxs-lookup"><span data-stu-id="51474-107">The configuration utility also allows you to select the tracing mode and set default outgoing and maximum incoming transaction timeouts.</span></span>

<span data-ttu-id="51474-108">Der Zugriff auf die Funktionen dieses Tools ist über ein Snap-In auf der Eigenschaftenseite der Microsoft Management Console (MMC) in der Komponentendienste-Managementkonsole oder aus einem Befehlszeilenfenster möglich.</span><span class="sxs-lookup"><span data-stu-id="51474-108">You can access this tool's functionality by using a Microsoft Management Console (MMC) property page snap-in in the Component Services management console, or from a command-line window.</span></span> <span data-ttu-id="51474-109">Konfigurieren Sie die WS-AT-Unterstützung auf dem lokalen Computer über das Befehlszeilenfenster, und konfigurieren Sie Einstellungen auf lokalen und Remotecomputern über das MMC-Snap-In.</span><span class="sxs-lookup"><span data-stu-id="51474-109">Configure WS-AT support on the local machine through the command-line window; configure settings on both local and remote machines by using the MMC snap-in.</span></span>

<span data-ttu-id="51474-110">Auf das Befehlszeilenfenster kann in dem Windows SDK-Installationspfad "%WINDIR%\Microsoft.NET\Framework\v3.0\Windows Communication Foundation" zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="51474-110">The command-line window can be accessed in the Windows SDK installation location "%WINDIR%\Microsoft.NET\Framework\v3.0\Windows Communication Foundation".</span></span>

<span data-ttu-id="51474-111">Weitere Informationen zum Befehlszeilen Tool finden Sie unter [WS-AtomicTransaction-Konfigurations Hilfsprogramm (wsatConfig.exe)](../ws-atomictransaction-configuration-utility-wsatconfig-exe.md).</span><span class="sxs-lookup"><span data-stu-id="51474-111">For more information about the command-line tool, see [WS-AtomicTransaction Configuration Utility (wsatConfig.exe)](../ws-atomictransaction-configuration-utility-wsatconfig-exe.md).</span></span>

<span data-ttu-id="51474-112">Wenn Sie Windows XP oder Windows Server 2003 ausführen, können Sie auf das MMC-Snap-in zugreifen, indem Sie zu Systemsteuerung > Verwaltung > **Komponenten Dienste**navigieren, mit der rechten Maustaste auf **Arbeitsplatz**klicken und **Eigenschaften**auswählen.</span><span class="sxs-lookup"><span data-stu-id="51474-112">If you are running Windows XP or Windows Server 2003, you can access the MMC snap-in by navigating to **Control Panel/Administrative Tools/Component Services**, right-clicking **My Computer**, and selecting **Properties**.</span></span> <span data-ttu-id="51474-113">Dies ist die gleiche Position, an der Sie den Microsoft Distributed Transaction Coordinator (MSDTC) konfigurieren können.</span><span class="sxs-lookup"><span data-stu-id="51474-113">This is the same location where you can configure the Microsoft Distributed Transaction Coordinator (MSDTC).</span></span> <span data-ttu-id="51474-114">Optionen, die für die Konfiguration verfügbar sind, werden auf der Registerkarte **WS-AT** gruppiert. Wenn Sie Windows Vista oder Windows Server 2008 ausführen, finden Sie das MMC-Snap-in, indem Sie auf die Schaltfläche **Start** klicken und `dcomcnfg.exe` in das **Suchfeld** eingeben.</span><span class="sxs-lookup"><span data-stu-id="51474-114">Options available for configuration are grouped under the **WS-AT** tab. If you are running Windows Vista or Windows Server 2008, the MMC snap-in can be found by clicking the **Start** button, and entering `dcomcnfg.exe` in the **Search** box.</span></span> <span data-ttu-id="51474-115">Wenn die MMC geöffnet ist, navigieren Sie zum Knoten **My computer\verteilte transaktions\lokale DTC** , klicken Sie mit der rechten Maustaste, und wählen Sie **Eigenschaften**aus.</span><span class="sxs-lookup"><span data-stu-id="51474-115">When the MMC is opened, navigate to the **My Computer\Distributed Transaction Coordinator\Local DTC** node, right click and select **Properties**.</span></span> <span data-ttu-id="51474-116">Optionen, die für die Konfiguration verfügbar sind, werden auf der Registerkarte **WS-AT** gruppiert.</span><span class="sxs-lookup"><span data-stu-id="51474-116">Options available for configuration are grouped under the **WS-AT** tab.</span></span>

<span data-ttu-id="51474-117">Weitere Informationen zum Snap-in finden Sie im [MMC-Snap-in "WS-AtomicTransaction-Konfiguration](../ws-atomictransaction-configuration-mmc-snap-in.md)".</span><span class="sxs-lookup"><span data-stu-id="51474-117">For more information about the snap-in, see the [WS-AtomicTransaction Configuration MMC Snap-in](../ws-atomictransaction-configuration-mmc-snap-in.md).</span></span>

<span data-ttu-id="51474-118">Zum Aktivieren der Benutzeroberfläche des Tools müssen Sie zuerst die Datei WsatUI.dll im folgenden Pfad registrieren:</span><span class="sxs-lookup"><span data-stu-id="51474-118">To enable the tool's user interface, you must first register the WsatUI.dll file, located at the following path</span></span>

<span data-ttu-id="51474-119">%PROGRAMFILES%\Microsoft SDKs\Windows\v6.0\Bin</span><span class="sxs-lookup"><span data-stu-id="51474-119">%PROGRAMFILES%\Microsoft SDKs\Windows\v6.0\Bin</span></span>

<span data-ttu-id="51474-120">Führen Sie zum Registrieren des Produkts den folgenden Befehl in einem Eingabeaufforderungsfenster aus:</span><span class="sxs-lookup"><span data-stu-id="51474-120">To register the product, execute the following command from a Command Prompt window:</span></span>

`regasm.exe /codebase WsatUI.dll`

## <a name="enable-ws-at"></a><span data-ttu-id="51474-121">Aktivieren von WS-AT</span><span class="sxs-lookup"><span data-stu-id="51474-121">Enable WS-AT</span></span>

<span data-ttu-id="51474-122">Verwenden Sie zum Aktivieren des WS-AT-Protokolldienstes in MSDTC unter Nutzung von Anschluss 443 und eines X.509-Zertifikats mit einem privaten Schlüssel im Speicher des lokalen Computers das Tool wsatConfig.exe mit dem folgenden Befehl.</span><span class="sxs-lookup"><span data-stu-id="51474-122">To enable the WS-AT protocol service inside MSDTC using port 443 and an X.509 certificate with a private key that has been installed in the local machine store, use the wsatConfig.exe tool with the following command.</span></span>

`WsatConfig.exe –network:enable –port:8443 –endpointCert:<machine|"Issuer\SubjectName"> -accountsCerts:<thumbprint|"Issuer\SubjectName"> -restart`

<span data-ttu-id="51474-123">Ersetzen Sie die jeweiligen Parameter durch für Ihre Umgebung relevante Werte.</span><span class="sxs-lookup"><span data-stu-id="51474-123">Substitute the respective parameters with values relevant to your environment.</span></span>

<span data-ttu-id="51474-124">Verwenden Sie zum Deaktivieren des WS-AT-Protokolldienstes in MSDTC das Tool wsatConfig.exe mit dem folgenden Befehl.</span><span class="sxs-lookup"><span data-stu-id="51474-124">To disable the WS-AT protocol service inside MSDTC, use the wsatConfig.exe tool with the following command.</span></span>

`WsatConfig.exe –network:disable -restart`

## <a name="configure-trust-between-two-machines"></a><span data-ttu-id="51474-125">Konfigurieren der Vertrauensstellung zwischen zwei Computern</span><span class="sxs-lookup"><span data-stu-id="51474-125">Configure trust between two machines</span></span>

<span data-ttu-id="51474-126">Der WS-AT-Protokolldienst erfordert, dass der Administrator einzelne Konten für die Teilnahme an verteilten Transaktionen explizit autorisiert.</span><span class="sxs-lookup"><span data-stu-id="51474-126">The WS-AT protocol service requires the administrator to explicitly authorize individual accounts to participate in distributed transactions.</span></span> <span data-ttu-id="51474-127">Als Administrator für zwei Computer können Sie beide Computer so konfigurieren, dass sie durch Austausch der richtigen Zertifikate zwischen den Computern, Installation in den richtigen Zertifikatspeichern und Verwenden des Tools wsatConfig.exe zum Hinzufügen des Zertifikats jedes Computers zur Liste autorisierter Teilnehmerzertifikate des anderen Computers eine gegenseitige Vertrauensstellung einrichten.</span><span class="sxs-lookup"><span data-stu-id="51474-127">If you are an administrator for two machines, you can configure both machines to establish a mutual trust relationship by exchanging the right set of certificates between the machines, installing them into the appropriate certificate stores, and using the wsatConfig.exe tool to add each machine's certificate to the other's list of authorized participant certificates.</span></span> <span data-ttu-id="51474-128">Dieser Schritt ist erforderlich, um verteilte Transaktionen zwischen zwei Computern auszuführen, die WS-AT verwenden.</span><span class="sxs-lookup"><span data-stu-id="51474-128">This step is necessary to perform distributed transactions between two machines using WS-AT.</span></span>

<span data-ttu-id="51474-129">Im folgenden Beispiel werden die Schritte zum Einrichten einer Vertrauensstellung zwischen zwei Computern, A und B, beschrieben.</span><span class="sxs-lookup"><span data-stu-id="51474-129">In the following example outlines the steps to establish trust between two machines, A and B.</span></span>

### <a name="create-and-export-certificates"></a><span data-ttu-id="51474-130">Erstellen und Exportieren von Zertifikaten</span><span class="sxs-lookup"><span data-stu-id="51474-130">Create and export certificates</span></span>

<span data-ttu-id="51474-131">Für dieses Verfahren ist das MMC-Zertifikat-Snap-In erforderlich.</span><span class="sxs-lookup"><span data-stu-id="51474-131">This procedure requires the MMC Certificates snap-in.</span></span> <span data-ttu-id="51474-132">Öffnen Sie zum Zugriff auf das Snap-In das Menü "Start/Ausführen", geben Sie "mmc" im Eingabefeld ein, und klicken Sie auf "OK".</span><span class="sxs-lookup"><span data-stu-id="51474-132">The snap-in can be accessed by opening the Start/Run menu, typing "mmc" in the input box and pressing OK.</span></span> <span data-ttu-id="51474-133">Navigieren Sie dann im Fenster **Konsole1** zum **Datei-/ausfüger-Snap** -in, klicken Sie auf Hinzufügen, und wählen Sie in der Liste **Verfügbare eigenständige** Snap-Ins die Option **Zertifikate** aus.</span><span class="sxs-lookup"><span data-stu-id="51474-133">Then, in the **Console1** window, navigate to **the File/Add-Remove** Snap-in, click Add, and choose **Certificates** from the **Available Standalone Snapins** list.</span></span> <span data-ttu-id="51474-134">Wählen Sie schließlich zu verwaltende **Computer Konto** aus, und klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="51474-134">Finally, select **Computer Account** to manage and click **OK**.</span></span> <span data-ttu-id="51474-135">Der Knoten **Zertifikate** wird in der Snap-In-Konsole angezeigt.</span><span class="sxs-lookup"><span data-stu-id="51474-135">The **Certificates** node appears in the snap-in console.</span></span>

<span data-ttu-id="51474-136">Sie müssen bereits die erforderlichen Zertifikate besitzen, um Vertrauensstellungen einzurichten.</span><span class="sxs-lookup"><span data-stu-id="51474-136">You must already possess the required certificates to establish trust.</span></span> <span data-ttu-id="51474-137">Informationen zum Erstellen und Installieren neuer Zertifikate vor den folgenden Schritten finden Sie unter Gewusst [wie: Erstellen und installieren temporärer Client Zertifikate in WCF während der Entwicklung](/previous-versions/msp-n-p/ff650751(v=pandp.10)).</span><span class="sxs-lookup"><span data-stu-id="51474-137">To learn how to create and install new certificates prior to the following steps, see [How to: Create and Install Temporary Client Certificates in WCF During Development](/previous-versions/msp-n-p/ff650751(v=pandp.10)).</span></span>

1. <span data-ttu-id="51474-138">Importieren Sie auf Computer A mit dem MMC-Zertifikat-Snap-In das vorhandene Zertifikat (certA) in den Speicher LocalMachine\MY (Persönlicher Knoten) und LocalMachine\ROOT (Knoten der vertrauenswürdigen Stammzertifizierungsstelle).</span><span class="sxs-lookup"><span data-stu-id="51474-138">On machine A, using the MMC Certificates snap-in, import the existing certificate (certA) into the LocalMachine\MY (Personal Node) and LocalMachine\ROOT store (trusted root certification authority node).</span></span> <span data-ttu-id="51474-139">Um ein Zertifikat in einen bestimmten Knoten zu importieren, klicken Sie mit der rechten Maustaste auf den Knoten, und wählen Sie **Alle Tasks/Importieren**aus.</span><span class="sxs-lookup"><span data-stu-id="51474-139">To import a certificate to a specific node, right-click the node and choose **All Tasks/Import**.</span></span>

2. <span data-ttu-id="51474-140">Erstellen oder erhalten Sie auf Computer B mit dem MMC-Zertifikat-Snap-In ein Zertifikat (certB) mit einem privaten Schlüssel, und importieren Sie es in den Speicher LocalMachine\MY (Persönlicher Knoten) und LocalMachine\ROOT (Knoten der vertrauenswürdigen Stammzertifizierungsstelle).</span><span class="sxs-lookup"><span data-stu-id="51474-140">On machine B, using the MMC Certificates snap-in, create or obtain a certificate certB with a private key and import it into the LocalMachine\MY (Personal Node) and LocalMachine\ROOT store (trusted root certification authority node).</span></span>

3. <span data-ttu-id="51474-141">Exportieren Sie den öffentlichen Schlüssel von certA zu einer Datei, wenn noch nicht geschehen.</span><span class="sxs-lookup"><span data-stu-id="51474-141">Export certA's public key to a file if this has not been done already.</span></span>

4. <span data-ttu-id="51474-142">Exportieren Sie den öffentlichen Schlüssel von certB zu einer Datei, wenn noch nicht geschehen.</span><span class="sxs-lookup"><span data-stu-id="51474-142">Export certB's public key to a file if this has not been done already.</span></span>

### <a name="establish-mutual-trust-between-machines"></a><span data-ttu-id="51474-143">Einrichten von gegenseitiger Vertrauensstellung zwischen Computern</span><span class="sxs-lookup"><span data-stu-id="51474-143">Establish mutual trust between machines</span></span>

1. <span data-ttu-id="51474-144">Importieren Sie auf Computer A die Dateidarstellung von certB in die Speicher LocalMachine\MY und LocalMachine\ROOT.</span><span class="sxs-lookup"><span data-stu-id="51474-144">On machine A, import the file representation of certB into the LocalMachine\MY and LocalMachine\ROOT stores.</span></span> <span data-ttu-id="51474-145">Damit wird deklariert, dass Computer A certB für die Kommunikation vertraut.</span><span class="sxs-lookup"><span data-stu-id="51474-145">This declares that machine A trusts certB to communicate with it.</span></span>

2. <span data-ttu-id="51474-146">Importieren Sie auf Computer B die Datei von certA in die Speicher LocalMachine\MY und LocalMachine\ROOT.</span><span class="sxs-lookup"><span data-stu-id="51474-146">On machine B, import certA’s file into the LocalMachine\MY and LocalMachine\ROOT stores.</span></span> <span data-ttu-id="51474-147">Dies bedeutet, dass Computer B certA für die Kommunikation vertraut.</span><span class="sxs-lookup"><span data-stu-id="51474-147">This implies that machine B trusts certA to communicate with it.</span></span>

<span data-ttu-id="51474-148">Mit diesen Schritten wurde eine Vertrauensstellung zwischen den beiden Computern eingerichtet, und sie können für die Kommunikation mit WS-AT konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="51474-148">After completing these steps, trust is established between the two machines, and they can be configured to communicate with each other using WS-AT.</span></span>

### <a name="configure-msdtc-to-use-certificates"></a><span data-ttu-id="51474-149">Konfigurieren von MSDTC für die Verwendung von Zertifikaten</span><span class="sxs-lookup"><span data-stu-id="51474-149">Configure MSDTC to use certificates</span></span>

<span data-ttu-id="51474-150">Da der WS-AT-Protokolldienst als Client und Server fungiert, muss er eingehende Verbindungen abhören und ausgehende Verbindungen initiieren.</span><span class="sxs-lookup"><span data-stu-id="51474-150">Since the WS-AT protocol service acts as both a client and a server, it must both listen for incoming connections and initiate outgoing connections.</span></span> <span data-ttu-id="51474-151">Sie müssen daher MSDTC so konfigurieren, dass bekannt ist, welche Zertifikate bei der Kommunikation mit externen Programmen verwendet werden müssen und welche Zertifikate beim Annehmen eingehender Kommunikation autorisiert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="51474-151">Therefore, you need to configure MSDTC so that it knows which certificate to use when communicating with external parties, and which certificates to authorize when accepting incoming communication.</span></span>

<span data-ttu-id="51474-152">Sie können dies mit dem MMC-WS-AT-Snap-In konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="51474-152">You can configure this by using the MMC WS-AT snap-in.</span></span> <span data-ttu-id="51474-153">Weitere Informationen zu diesem Tool finden Sie im Thema [WS-AtomicTransaction Configuration MMC Snap-in](../ws-atomictransaction-configuration-mmc-snap-in.md) .</span><span class="sxs-lookup"><span data-stu-id="51474-153">For more information about this tool, see the [WS-AtomicTransaction Configuration MMC Snap-in](../ws-atomictransaction-configuration-mmc-snap-in.md) topic.</span></span> <span data-ttu-id="51474-154">In den folgenden Schritten wird beschrieben, wie Sie eine Vertrauensstellung zwischen zwei Computern einrichten, auf denen MSDTC ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="51474-154">The following steps describe how to establish trust between two computers running MSDTC.</span></span>

1. <span data-ttu-id="51474-155">Konfigurieren Sie die Einstellungen von Computer A.</span><span class="sxs-lookup"><span data-stu-id="51474-155">Configure machine A's settings.</span></span> <span data-ttu-id="51474-156">Wählen Sie für "Endpunkt Zertifikat" certa aus.</span><span class="sxs-lookup"><span data-stu-id="51474-156">For "Endpoint Certificate", select certA.</span></span> <span data-ttu-id="51474-157">Wählen Sie für "autorisierte Zertifikate" certB aus.</span><span class="sxs-lookup"><span data-stu-id="51474-157">For "Authorized Certificates", select the certB.</span></span>

2. <span data-ttu-id="51474-158">Konfigurieren Sie die Einstellungen von Computer B.</span><span class="sxs-lookup"><span data-stu-id="51474-158">Configure machine B's settings.</span></span> <span data-ttu-id="51474-159">Wählen Sie für "Endpunkt Zertifikat" certB aus.</span><span class="sxs-lookup"><span data-stu-id="51474-159">For "Endpoint Certificate", select certB.</span></span> <span data-ttu-id="51474-160">Wählen Sie für "autorisierte Zertifikate" die certa aus.</span><span class="sxs-lookup"><span data-stu-id="51474-160">For "Authorized Certificates", select the certA.</span></span>

> [!NOTE]
> <span data-ttu-id="51474-161">Wenn ein Computer eine Nachricht an den anderen Computer sendet, versucht der Absender zu überprüfen, ob der Antragstellername des Zertifikats des Empfängers und der Name des Computers des Empfängers übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="51474-161">When one machine sends a message to the other machine, the sender attempts to verify that the subject name of the recipient’s certificate and the name of the recipient’s machine match.</span></span> <span data-ttu-id="51474-162">Wenn sie nicht übereinstimmen, schlägt die Zertifikatüberprüfung fehl, und die zwei Computer können nicht kommunizieren.</span><span class="sxs-lookup"><span data-stu-id="51474-162">If they do not match, certificate verification fails and the two machines cannot communicate.</span></span>
>
> <span data-ttu-id="51474-163">Bei einem Computer, der Mitglied einer Domäne ist, ist der Name der vollqualifizierte Domänenname.</span><span class="sxs-lookup"><span data-stu-id="51474-163">For a machine joined to a domain, the name is the fully qualified domain name.</span></span> <span data-ttu-id="51474-164">Standardmäßig ist der Name eines Computers in einer Arbeitsgruppe der NetBIOS-Name des Computers.</span><span class="sxs-lookup"><span data-stu-id="51474-164">By default, the name of a machine on a workgroup is the machine’s NetBIOS name.</span></span> <span data-ttu-id="51474-165">Allerdings kann der Name auch ein DNS-Suffix enthalten, falls dieses für die Verbindung zwischen den beiden Computern vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="51474-165">However, the name can also include a Domain Name System (DNS) suffix if one is present for the connection being used between the two machines.</span></span>
>
> <span data-ttu-id="51474-166">Falls sich der Name des Computers ändert, z. B. wenn ein Arbeitsgruppencomputer Mitglied einer Domäne wird, müssen Sie Zertifikate neu ausstellen oder DNS-Suffixe manuell konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="51474-166">If the name of the machine changes, for example, when a workgroup machine joins a domain, you must reissue certificates or manually configure DNS suffixes.</span></span>

## <a name="security"></a><span data-ttu-id="51474-167">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="51474-167">Security</span></span>

<span data-ttu-id="51474-168">Da einige Einstellungen für MSDTC und WS-AT in der Registrierung unter HKLM\Software\Microsoft\MSDTC bzw. unter HKLM\Software\Microsoft\WSAT gespeichert werden, müssen Sie sicherstellen, dass diese Registrierungsschlüssel gesichert sind, sodass nur Administratoren darauf schreiben können.</span><span class="sxs-lookup"><span data-stu-id="51474-168">Since some of the settings related to MSDTC and WS-AT are stored in the registry at HKLM\Software\Microsoft\MSDTC and at HKLM\Software\Microsoft\WSAT, respectively, ensure that these registry keys are secured so that only administrators can write to them.</span></span> <span data-ttu-id="51474-169">Klicken Sie im Registrierungs-Editor-Tool mit der rechten Maustaste auf den Schlüssel, den Sie sichern möchten, und wählen Sie die **Berechtigung** zum Festlegen der entsprechenden Zugriffs Steuerung aus.</span><span class="sxs-lookup"><span data-stu-id="51474-169">In the Registry Editor tool, right-click the key you want to secure and select **Permission** to set the appropriate access control.</span></span> <span data-ttu-id="51474-170">Für die Systemsicherheit und -integrität ist es entscheidend, dass wichtige Schlüssel für Benutzer mit weniger Rechten schreibgeschützt sind.</span><span class="sxs-lookup"><span data-stu-id="51474-170">It is crucial to the security and integrity of the system that important keys are read-only for low-privileged users.</span></span>

<span data-ttu-id="51474-171">Beim Bereitstellen von MSDTC muss der Administrator sicherstellen, dass der gesamte MSDTC-Datenaustausch gesichert ist.</span><span class="sxs-lookup"><span data-stu-id="51474-171">When deploying MSDTC, the administrator must ensure that any MSDTC data interchange is secure.</span></span> <span data-ttu-id="51474-172">Isolieren Sie bei einer Arbeitsgruppenbereitstellung die Transaktionsinfrastruktur von böswilligen Benutzern; sichern Sie bei einer Clusterbereitstellung die Clusterregistrierung.</span><span class="sxs-lookup"><span data-stu-id="51474-172">In a workgroup deployment, isolate the transactional infrastructure from malicious users; in a cluster deployment, secure the cluster registry.</span></span>

## <a name="tracing"></a><span data-ttu-id="51474-173">Ablaufverfolgung</span><span class="sxs-lookup"><span data-stu-id="51474-173">Tracing</span></span>

<span data-ttu-id="51474-174">Der WS-AT-Protokolldienst unterstützt die integrierte, transaktionsspezifische Ablauf Verfolgung, die mithilfe des [WS-AtomicTransaction Configuration MMC-Snap-in-](../ws-atomictransaction-configuration-mmc-snap-in.md) Tools aktiviert und verwaltet werden kann.</span><span class="sxs-lookup"><span data-stu-id="51474-174">The WS-AT protocol service supports integrated, transaction-specific tracing that can be enabled and managed through the use of the [WS-AtomicTransaction Configuration MMC Snap-in](../ws-atomictransaction-configuration-mmc-snap-in.md) tool.</span></span> <span data-ttu-id="51474-175">Ablaufverfolgungen können Daten einschließen, die unter anderem den Zeitpunkt einer Eintragung für eine bestimmte Transaktion, den Zeitpunkt des Erreichens des Endstatus und das Ergebnis, das jede Transaktionseintragung empfangen hat, angeben.</span><span class="sxs-lookup"><span data-stu-id="51474-175">Traces can include data indicating the time an enlistment is made for a specific transaction, the time a transaction reaches its terminal state, the outcome each transaction enlistment has received.</span></span> <span data-ttu-id="51474-176">Alle Ablauf Verfolgungen können mit dem [Service Trace Viewer-Tool (SvcTraceViewer.exe)](../service-trace-viewer-tool-svctraceviewer-exe.md) angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="51474-176">All traces can be viewed using the [Service Trace Viewer Tool (SvcTraceViewer.exe)](../service-trace-viewer-tool-svctraceviewer-exe.md) tool.</span></span>

<span data-ttu-id="51474-177">Der WS-AT-Protokolldienst unterstützt auch integrierte ServiceModel-Ablaufverfolgung über die ETW-Ablaufverfolgungssitzung.</span><span class="sxs-lookup"><span data-stu-id="51474-177">The WS-AT protocol service also supports integrated ServiceModel tracing through the ETW trace session.</span></span> <span data-ttu-id="51474-178">Dies bietet ausführlichere, kommunikationsspezifische Ablaufverfolgungen zusätzlich zu den vorhandenen Transaktionsablaufverfolgungen.</span><span class="sxs-lookup"><span data-stu-id="51474-178">This provides more detailed, communication-specific traces in addition to the existing transaction traces.</span></span>  <span data-ttu-id="51474-179">Führen Sie die folgenden Schritte aus, um diese zusätzlichen Ablaufverfolgungen zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="51474-179">To enable these additional traces, follow these steps</span></span>

1. <span data-ttu-id="51474-180">Öffnen Sie das Menü **Start/ausführen** , geben Sie "regedit" in das Eingabefeld ein, und wählen Sie **OK**aus.</span><span class="sxs-lookup"><span data-stu-id="51474-180">Open the **Start/Run** menu, type "regedit" in the input box and select **OK**.</span></span>

2. <span data-ttu-id="51474-181">Navigieren Sie im **Registrierungs-Editor**im linken Bereich zum folgenden Ordner, HKEY_LOCAL_MACHINE \software\microsoft\wsat\3.0</span><span class="sxs-lookup"><span data-stu-id="51474-181">In the **Registry Editor**, navigate to the following folder on the left pane, Hkey_Local_Machine\SOFTWARE\Microsoft\WSAT\3.0</span></span>\

3. <span data-ttu-id="51474-182">Klicken Sie mit der rechten Maustaste `ServiceModelDiagnosticTracing` auf den Wert im rechten Bereich, und wählen Sie **ändern**aus.</span><span class="sxs-lookup"><span data-stu-id="51474-182">Right-click the `ServiceModelDiagnosticTracing` value in the right pane and select **Modify**.</span></span>

4. <span data-ttu-id="51474-183">Geben Sie im Eingabefeld **Wert** einen der folgenden gültigen Werte ein, um die Ablauf Verfolgungs Ebene anzugeben, die Sie aktivieren möchten.</span><span class="sxs-lookup"><span data-stu-id="51474-183">In the **Value data** input box, enter one of the following valid values to specify the trace level you want to enable.</span></span>

- <span data-ttu-id="51474-184">0: Aus</span><span class="sxs-lookup"><span data-stu-id="51474-184">0: off</span></span>

- <span data-ttu-id="51474-185">1: Kritisch</span><span class="sxs-lookup"><span data-stu-id="51474-185">1: critical</span></span>

- <span data-ttu-id="51474-186">3: Fehler.</span><span class="sxs-lookup"><span data-stu-id="51474-186">3: error.</span></span> <span data-ttu-id="51474-187">Dies ist der Standardwert.</span><span class="sxs-lookup"><span data-stu-id="51474-187">This is the default value</span></span>

- <span data-ttu-id="51474-188">7: Warnung</span><span class="sxs-lookup"><span data-stu-id="51474-188">7: warning</span></span>

- <span data-ttu-id="51474-189">15: Informationen</span><span class="sxs-lookup"><span data-stu-id="51474-189">15: information</span></span>

- <span data-ttu-id="51474-190">31: Ausführlich</span><span class="sxs-lookup"><span data-stu-id="51474-190">31: verbose</span></span>

## <a name="see-also"></a><span data-ttu-id="51474-191">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="51474-191">See also</span></span>

- [<span data-ttu-id="51474-192">WS-AtomicTransaction-Konfigurationsdienstprogramm (wsatConfig.exe)</span><span class="sxs-lookup"><span data-stu-id="51474-192">WS-AtomicTransaction Configuration Utility (wsatConfig.exe)</span></span>](../ws-atomictransaction-configuration-utility-wsatconfig-exe.md)
- [<span data-ttu-id="51474-193">WS-AtomicTransaction-Konfiguration-MMC-Snap-In</span><span class="sxs-lookup"><span data-stu-id="51474-193">WS-AtomicTransaction Configuration MMC Snap-in</span></span>](../ws-atomictransaction-configuration-mmc-snap-in.md)
