---
title: Serialization2
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: a15ae411-8dc2-4ca3-84d2-01c9d5f1972a
ms.openlocfilehash: 778cc73575ffc7421854fd89592f1c4eaa284678
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/24/2020
ms.locfileid: "91203552"
---
# <a name="serialization"></a><span data-ttu-id="c4150-102">Serialisierung</span><span class="sxs-lookup"><span data-stu-id="c4150-102">Serialization</span></span>

<span data-ttu-id="c4150-103">In diesem Thema werden die [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] Serialisierungsfunktionen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="c4150-103">This topic describes [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] serialization capabilities.</span></span> <span data-ttu-id="c4150-104">Die folgenden Abschnitte enthalten Informationen zum Hinzufügen von Serialisierung während der Codeerstellung zur Entwicklungszeit sowie zum Serialisierungsverhalten von [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]-Klassen zur Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="c4150-104">The paragraphs that follow provide information about how to add serialization during code generation at design time and the run-time serialization behavior of [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] classes.</span></span>  
  
 <span data-ttu-id="c4150-105">Sie können zur Entwurfszeit durch eine der folgenden Methoden Serialisierungscode hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="c4150-105">You can add serialization code at design time by either of the following methods:</span></span>  
  
- <span data-ttu-id="c4150-106">Ändern Sie im objektrelationaler Designer die Eigenschaft **Serialisierungsmodus** in **unidirektionale**.</span><span class="sxs-lookup"><span data-stu-id="c4150-106">In the Object Relational Designer, change the **Serialization Mode** property to **Unidirectional**.</span></span>  
  
- <span data-ttu-id="c4150-107">Fügen Sie in der SQLMetal-Befehlszeile die Option **/Serialization** hinzu.</span><span class="sxs-lookup"><span data-stu-id="c4150-107">On the SQLMetal command line, add the **/serialization** option.</span></span> <span data-ttu-id="c4150-108">Weitere Informationen finden Sie unter [SqlMetal.exe (Tool zur Codegenerierung)](../../../../tools/sqlmetal-exe-code-generation-tool.md).</span><span class="sxs-lookup"><span data-stu-id="c4150-108">For more information, see [SqlMetal.exe (Code Generation Tool)](../../../../tools/sqlmetal-exe-code-generation-tool.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="c4150-109">Übersicht</span><span class="sxs-lookup"><span data-stu-id="c4150-109">Overview</span></span>  

 <span data-ttu-id="c4150-110">Der von generierte Code [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] stellt standardmäßig verzögerte Ladefunktionen bereit.</span><span class="sxs-lookup"><span data-stu-id="c4150-110">The code generated by [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] provides deferred loading capabilities by default.</span></span> <span data-ttu-id="c4150-111">Verzögertes Laden ist auf der Mittelebene eine komfortable Möglichkeit zum transparenten, bedarfsorientierten Laden der Daten.</span><span class="sxs-lookup"><span data-stu-id="c4150-111">Deferred loading is very convenient on the mid-tier for transparent loading of data on demand.</span></span> <span data-ttu-id="c4150-112">Bei der Serialisierung kommt es jedoch zu Problemen, da hierbei das verzögerte Laden auch dann ausgelöst wird, wenn dieses nicht beabsichtigt ist.</span><span class="sxs-lookup"><span data-stu-id="c4150-112">However, it is problematic for serialization, because the serializer triggers deferred loading whether deferred loading is intended or not.</span></span> <span data-ttu-id="c4150-113">Wird ein Objekt serialisiert, wird sein transitiver Abschluss unter allen ausgehenden verzögert geladenen Verweisen serialisiert.</span><span class="sxs-lookup"><span data-stu-id="c4150-113">In effect, when an object is serialized, its transitive closure under all outbound defer-loaded references is serialized.</span></span>  
  
 <span data-ttu-id="c4150-114">Das [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] Serialisierungsfeature behandelt dieses Problem, primär durch zwei Mechanismen:</span><span class="sxs-lookup"><span data-stu-id="c4150-114">The [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] serialization feature addresses this problem, primarily through two mechanisms:</span></span>  
  
- <span data-ttu-id="c4150-115">Ein <xref:System.Data.Linq.DataContext>-Modus für die Deaktivierung des verzögerten Ladens (<xref:System.Data.Linq.DataContext.ObjectTrackingEnabled%2A>).</span><span class="sxs-lookup"><span data-stu-id="c4150-115">A <xref:System.Data.Linq.DataContext> mode for turning off deferred loading (<xref:System.Data.Linq.DataContext.ObjectTrackingEnabled%2A>).</span></span> <span data-ttu-id="c4150-116">Weitere Informationen finden Sie unter <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="c4150-116">For more information, see <xref:System.Data.Linq.DataContext>.</span></span>  
  
- <span data-ttu-id="c4150-117">Ein Codegenerierungsschalter zum Erzeugen des <xref:System.Runtime.Serialization.DataContractAttribute?displayProperty=nameWithType>-Attributs und des <xref:System.Runtime.Serialization.DataMemberAttribute?displayProperty=nameWithType>-Attributs für erzeugte Entitäten.</span><span class="sxs-lookup"><span data-stu-id="c4150-117">A code-generation switch to generate <xref:System.Runtime.Serialization.DataContractAttribute?displayProperty=nameWithType> and <xref:System.Runtime.Serialization.DataMemberAttribute?displayProperty=nameWithType> attributes on generated entities.</span></span> <span data-ttu-id="c4150-118">Dieser Aspekt, einschließlich des Verhaltens von Klassen zum verzögerten Laden im Rahmen der Serialisierung, ist das Hauptthema dieses Abschnitts.</span><span class="sxs-lookup"><span data-stu-id="c4150-118">This aspect, including the behavior of defer-loading classes under serialization, is the major subject of this topic.</span></span>  
  
### <a name="definitions"></a><span data-ttu-id="c4150-119">Definitionen</span><span class="sxs-lookup"><span data-stu-id="c4150-119">Definitions</span></span>  
  
- <span data-ttu-id="c4150-120">*DataContract-Serialisierungsprogramm*: das Standardserialisierungsprogramm, das von der Windows Communication Framework (WCF)-Komponente des .NET Framework 3,0 oder höheren Versionen verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="c4150-120">*DataContract serializer*: Default serializer used by the Windows Communication Framework (WCF) component of the .NET Framework 3.0 or later versions.</span></span>  
  
- <span data-ttu-id="c4150-121">*Unidirektionale Serialisierung*: die serialisierte Version einer Klasse, die nur eine unidirektionale Zuordnungs Eigenschaft enthält (um eine Zyklen zu vermeiden).</span><span class="sxs-lookup"><span data-stu-id="c4150-121">*Unidirectional serialization*: The serialized version of a class that contains only a one-way association property (to avoid a cycle).</span></span> <span data-ttu-id="c4150-122">Laut Konvention wird die Eigenschaft auf der übergeordneten Seite einer primären Fremdschlüsselbeziehung für die Serialisierung markiert.</span><span class="sxs-lookup"><span data-stu-id="c4150-122">By convention, the property on the parent side of a primary-foreign key relationship is marked for serialization.</span></span> <span data-ttu-id="c4150-123">Die andere Seite in einer bidirektionalen Zuordnung wird nicht serialisiert.</span><span class="sxs-lookup"><span data-stu-id="c4150-123">The other side in a bidirectional association is not serialized.</span></span>  
  
     <span data-ttu-id="c4150-124">Unidirektionale Serialisierung ist der einzige Serialisierungstyp, der von [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="c4150-124">Unidirectional serialization is the only type of serialization supported by [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)].</span></span>  
  
## <a name="code-example"></a><span data-ttu-id="c4150-125">Codebeispiel</span><span class="sxs-lookup"><span data-stu-id="c4150-125">Code Example</span></span>  

 <span data-ttu-id="c4150-126">Im folgenden Beispiel werden die herkömmlichen Klassen `Customer` und `Order` aus der Beispieldatenbank Northwind verwendet. Es wird gezeigt, wie diese Klassen mit Serialisierungsattributen versehen werden.</span><span class="sxs-lookup"><span data-stu-id="c4150-126">The following code uses the traditional `Customer` and `Order` classes from the Northwind sample database, and shows how these classes are decorated with serialization attributes.</span></span>  
  
 [!code-csharp[DLinqSerialization#1](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#1)]
 [!code-vb[DLinqSerialization#1](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#1)]  
  
 [!code-csharp[DLinqSerialization#2](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#2)]
 [!code-vb[DLinqSerialization#2](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#2)]  
  
 [!code-csharp[DLinqSerialization#3](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#3)]
 [!code-vb[DLinqSerialization#3](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#3)]  
  
 <span data-ttu-id="c4150-127">Für die `Order`-Klasse im folgenden Beispiel wird aus Gründen der Übersicht nur die umgekehrte Zuordnungseigenschaft entsprechend der `Customer`-Klasse dargestellt.</span><span class="sxs-lookup"><span data-stu-id="c4150-127">For the `Order` class in the following example, only the reverse association property corresponding to the `Customer` class is shown for brevity.</span></span> <span data-ttu-id="c4150-128">Das <xref:System.Runtime.Serialization.DataMemberAttribute>-Attribut zur Vermeidung eines Zyklus fehlt.</span><span class="sxs-lookup"><span data-stu-id="c4150-128">It does not have a <xref:System.Runtime.Serialization.DataMemberAttribute> attribute to avoid a cycle.</span></span>  
  
 [!code-csharp[DLinqSerialization#4](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#4)]
 [!code-vb[DLinqSerialization#4](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#4)]  
  
 [!code-csharp[DLinqSerialization#5](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#5)]
 [!code-vb[DLinqSerialization#5](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#5)]  
  
### <a name="how-to-serialize-the-entities"></a><span data-ttu-id="c4150-129">So serialisieren Sie die Entitäten</span><span class="sxs-lookup"><span data-stu-id="c4150-129">How to Serialize the Entities</span></span>  

 <span data-ttu-id="c4150-130">Sie können die Entitäten im Code im vorherigen Abschnitt wie folgt serialisieren:</span><span class="sxs-lookup"><span data-stu-id="c4150-130">You can serialize the entities in the codes shown in the previous section as follows;</span></span>  
  
 [!code-csharp[DLinqSerialization#6](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/Program.cs#6)]
 [!code-vb[DLinqSerialization#6](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/Module1.vb#6)]  
  
### <a name="self-recursive-relationships"></a><span data-ttu-id="c4150-131">Selbstrekursive Beziehungen</span><span class="sxs-lookup"><span data-stu-id="c4150-131">Self-Recursive Relationships</span></span>  

 <span data-ttu-id="c4150-132">Selbstrekursive Beziehungen folgen dem gleichen Muster.</span><span class="sxs-lookup"><span data-stu-id="c4150-132">Self-recursive relationships follow the same pattern.</span></span> <span data-ttu-id="c4150-133">Die dem Fremdschlüssel entsprechende Zuordnungseigenschaft weist im Gegensatz zur übergeordneten Eigenschaft kein <xref:System.Runtime.Serialization.DataMemberAttribute>-Attribut auf.</span><span class="sxs-lookup"><span data-stu-id="c4150-133">The association property corresponding to the foreign key does not have a <xref:System.Runtime.Serialization.DataMemberAttribute> attribute, whereas the parent property does.</span></span>  
  
 <span data-ttu-id="c4150-134">Beachten Sie die folgende Klasse, die über zwei selbstrekursive Beziehungen verfügt: Employee.Manager/Reports und Employee.Mentor/Mentees.</span><span class="sxs-lookup"><span data-stu-id="c4150-134">Consider the following class that has two self-recursive relationships: Employee.Manager/Reports and Employee.Mentor/Mentees.</span></span>  
  
 [!code-csharp[DLinqSerialization#7](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqSerialization/cs/northwind-ser.cs#7)]
 [!code-vb[DLinqSerialization#7](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqSerialization/vb/northwind-ser.vb#7)]  
  
## <a name="see-also"></a><span data-ttu-id="c4150-135">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="c4150-135">See also</span></span>

- [<span data-ttu-id="c4150-136">Hintergrundinformationen</span><span class="sxs-lookup"><span data-stu-id="c4150-136">Background Information</span></span>](background-information.md)
- [<span data-ttu-id="c4150-137">SqlMetal.exe (Tool zur Codegenerierung)</span><span class="sxs-lookup"><span data-stu-id="c4150-137">SqlMetal.exe (Code Generation Tool)</span></span>](../../../../tools/sqlmetal-exe-code-generation-tool.md)
- [<span data-ttu-id="c4150-138">Vorgehensweise: Aktivieren der Serialisierbarkeit von Entitäten</span><span class="sxs-lookup"><span data-stu-id="c4150-138">How to: Make Entities Serializable</span></span>](how-to-make-entities-serializable.md)
