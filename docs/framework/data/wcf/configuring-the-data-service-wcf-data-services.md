---
title: Konfigurieren des Datendiensts (WCF Data Services)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, configuring
ms.assetid: 59efd4c8-cc7a-4800-a0a4-d3f8abe6c55c
ms.openlocfilehash: 57830421eee3c94f9785a2c603eb31b96f99f4d5
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/15/2020
ms.locfileid: "90552842"
---
# <a name="configuring-the-data-service-wcf-data-services"></a>Konfigurieren des Datendiensts (WCF Data Services)
Mit WCF Data Services können Sie Datendienste erstellen, die Open Data Protocol-Feeds (odata) verfügbar machen. Die Daten dieser Feeds können aus einer Vielzahl von Datenquellen stammen. WCF Data Services verwendet Datenanbieter, um diese Daten als odata-Feed verfügbar zu machen. Diese Anbieter schließen einen Entity Framework-Anbieter, einen Reflektionsanbieter und einen Schnittstellensatz für benutzerdefinierter Datendienstanbieter ein. Die Anbieterimplementierung definiert das Datenmodell für den Dienst. Weitere Informationen finden Sie unter [Data Services-Anbietern](data-services-providers-wcf-data-services.md).  
  
 In WCF Data Services ist ein Datendienst eine Klasse, die von der-Klasse erbt <xref:System.Data.Services.DataService%601> , wobei der Typ des Daten diensdienstanbieter der Entitäts Container des Datenmodells ist. Dieser Entitätscontainer verfügt über mindestens eine Eigenschaft, die einen <xref:System.Linq.IQueryable%601> zurückgibt und die für den Zugriff auf Entitätenmengen im Datenmodell verwendet wird.  
  
 Das Verhalten des Datendiensts wird durch die Member der <xref:System.Data.Services.DataServiceConfiguration>-Klasse definiert, und durch Member der <xref:System.Data.Services.DataServiceBehavior>-Klasse, auf die von der <xref:System.Data.Services.DataServiceConfiguration.DataServiceBehavior%2A>-Eigenschaft der <xref:System.Data.Services.DataServiceConfiguration>-Klasse zugegriffen wird. Die <xref:System.Data.Services.DataServiceConfiguration>-Klasse wird wie in der folgenden Implementierung eines Northwind-Datendiensts für die `InitializeService`-Methode angegeben, die vom Datendienst implementiert wird:  
  
[!code-csharp[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_service/cs/northwind.svc.cs#dataserviceconfigcomplete)]  
[!code-vb[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_service/vb/northwind.svc.vb#dataserviceconfigcomplete)]  
  
## <a name="data-service-configuration-settings"></a>Konfigurationseinstellungen des Datendiensts  
 Mit der <xref:System.Data.Services.DataServiceConfiguration>-Klasse können Sie das folgende Datendienstverhalten angeben:  
  
|Mitglied|Verhalten|  
|------------|--------------|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptCountRequests%2A>|Ermöglicht das Deaktivieren von Count-Anforderungen, die mit dem `$count`-Pfadsegment und der `$inlinecount`-Abfrageoption an den Datendienst gesendet werden. Weitere Informationen finden Sie unter [odata: URI-Konventionen](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptProjectionRequests%2A>|Ermöglicht das Deaktivieren der Unterstützung der Datenprojektion in Anforderungen, die mit der `$select`-Abfrageoption an den Datendienst gesendet werden. Weitere Informationen finden Sie unter [odata: URI-Konventionen](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeAccess%2A>|Ermöglicht das Verfügbarmachen eines Datentyps in den Metadaten für einen dynamischen Metadatenanbieter, der mithilfe der <xref:System.Data.Services.Providers.IDataServiceMetadataProvider>-Schnittstelle definiert wird.|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeConversion%2A>|Ermöglicht es Ihnen anzugeben, ob die Datendienst-Runtime den in der Nutzlast enthaltenen Typ in den in der Anforderung angegebenen tatsächlichen Eigenschaftstyp konvertieren soll.|  
|<xref:System.Data.Services.DataServiceBehavior.InvokeInterceptorsOnLinkDelete%2A>|Ermöglicht es Ihnen anzugeben, ob registrierte Change-Interceptors für die verknüpften Entitäten aufgerufen werden, wenn ein Beziehungslink zwischen zwei Entitäten gelöscht wird.|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxBatchCount%2A>|Ermöglicht es Ihnen, die Anzahl von Changesets und Abfragevorgängen einzuschränken, die in einem einzelnen Batch zulässig sind. Weitere Informationen finden Sie unter [odata: Batch-und Batch Verarbeitungs](https://www.odata.org/documentation/odata-version-2-0/batch-processing/) [Vorgänge](batching-operations-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxChangesetCount%2A>|Ermöglicht es Ihnen, die in einem Changeset zulässige Anzahl von Änderungen zu beschränken. Weitere Informationen finden Sie unter Gewusst [wie: Aktivieren von Paging für Datendienst Ergebnisse](how-to-enable-paging-of-data-service-results-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandCount%2A>|Ermöglicht es, die Größe einer Antwort durch Beschränken der Anzahl verknüpfter Entitäten in einer einzelnen Anforderung mit dem `$expand`-Abfrageoperator einzuschränken. Weitere Informationen finden Sie unter [odata: URI-Konventionen](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/) und [Laden von verzögertem Inhalt](loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandDepth%2A>|Ermöglicht es Ihnen, die Größe einer Antwort durch das Beschränken der Diagrammtiefe verknüpfter Entitäten in einer einzelnen Anforderung mit dem `$expand`-Abfrageoperator einzuschränken. Weitere Informationen finden Sie unter [odata: URI-Konventionen](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/) und [Laden von verzögertem Inhalt](loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxObjectCountOnInsert%2A>|Ermöglicht es Ihnen, die Anzahl einzufügender Entitäten einzuschränken, die in einer einzelnen POST-Anforderung enthalten sein können.|  
|<xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A>|Definiert die Version des Atom-Protokolls, das vom Datendienst verwendet wird. Wenn der Wert von <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> auf einen Wert festgelegt wird, der kleiner als der maximale Wert von ist <xref:System.Data.Services.Common.DataServiceProtocolVersion> , ist die neueste Funktionalität von WCF Data Services für Clients, die auf den Datendienst zugreifen, nicht verfügbar. Weitere Informationen finden Sie unter [Data Service Versioning](data-service-versioning-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxResultsPerCollection%2A>|Ermöglicht es Ihnen, die Größe einer Antwort einzuschränken, indem Sie die Anzahl von Entitäten in jeder Entitätenmenge einschränken, die als Datenfeed zurückgegeben wird.|  
|<xref:System.Data.Services.DataServiceConfiguration.RegisterKnownType%2A>|Fügt der Liste der vom Datendienst erkannten Typen einen Datentyp hinzu.|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetAccessRule%2A>|Legt die Zugriffsrechte für Entitätenmengenressourcen fest, die im Datendienst verfügbar sind. Ein Sternchenwert (`*`) kann für den Namensparameter angegeben werden, um den Zugriff für alle verbleibenden Entitätenmengen auf die gleiche Ebene festzulegen. Es wird empfohlen, den Zugriff auf Entitätenmengen so festzulegen, dass der Zugriff auf die für Clientanwendungen erforderlichen Datendienstressourcen mit minimalen Rechten bereitgestellt wird. Weitere Informationen finden Sie unter [Securing WCF Data Services](securing-wcf-data-services.md). Beispiele für die minimalen Zugriffsrechte, die für eine bestimmte URI-und http-Aktion erforderlich sind, finden Sie in der Tabelle im Abschnitt Mindestanforderungen für den [Ressourcen Zugriff](configuring-the-data-service-wcf-data-services.md#accessRequirements) .|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetPageSize%2A>|Legt die maximale Seitengröße für eine Entitätenmengenressource fest. Weitere Informationen finden Sie unter Gewusst [wie: Aktivieren von Paging für Datendienst Ergebnisse](how-to-enable-paging-of-data-service-results-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.SetServiceOperationAccessRule%2A>|Legt die Zugriffsrechte für Dienstvorgänge fest, die für den Datendienst definiert sind. Weitere Informationen finden Sie unter [Dienst Vorgänge](service-operations-wcf-data-services.md). Ein Sternchenwert (`*`) kann für den Namensparameter angegeben werden, um den Zugriff für alle Dienstvorgänge auf die gleiche Ebene festzulegen. Es wird empfohlen, den Zugriff auf Dienstvorgänge so festzulegen, dass der Zugriff auf die für Clientanwendungen erforderlichen Datendienstressourcen mit minimalen Rechten bereitgestellt wird. Weitere Informationen finden Sie unter [Securing WCF Data Services](securing-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.UseVerboseErrors%2A>|Diese Konfigurationseigenschaft ermöglicht es Ihnen, die Problembehandlung in einem Datendienst zu vereinfachen, indem mehr Informationen in der Fehlerantwortnachricht zurückgegeben werden. Diese Option ist nicht für die Verwendung in einer Produktionsumgebung vorgesehen. Weitere Informationen finden Sie unter [entwickeln und](developing-and-deploying-wcf-data-services.md)Bereitstellen von WCF Data Services.|  
  
<a name="accessRequirements"></a>
## <a name="minimum-resource-access-requirements"></a>Minimale Ressourcenzugriffsanforderungen  
 In der folgenden Tabelle sind die minimalen Rechte für Entitätenmengen aufgelistet, die gewährt werden müssen, um einen bestimmten Vorgang auszuführen. Pfad Beispiele basieren auf dem Northwind-Datendienst, der beim Abschluss des [Schnellstarts](quickstart-wcf-data-services.md)erstellt wird. Da sowohl die <xref:System.Data.Services.EntitySetRights>-Enumeration als auch die <xref:System.Data.Services.ServiceOperationRights>-Enumeration mit dem <xref:System.FlagsAttribute> definiert werden, können Sie mithilfe eines logischen OR-Operators mehrere Berechtigungen für eine Entitätenmenge oder einen Vorgang angeben. Weitere Informationen finden Sie unter Gewusst [wie: Aktivieren des Zugriffs auf den Datendienst](how-to-enable-access-to-the-data-service-wcf-data-services.md).  
  
|Pfad/Aktion|`GET`|`DELETE`|`MERGE`|`POST`|`PUT`|  
|------------------|-----------|--------------|-------------|------------|-----------|  
|`/Customers`|<xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nicht unterstützt|Nicht unterstützt|<xref:System.Data.Services.EntitySetRights.WriteAppend>|Nicht unterstützt|  
|`/Customers('ALFKI')`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteDelete>|<xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteMerge>|–|<xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nicht unterstützt|Nicht unterstützt|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteMerge> oder <xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> - und -<br /><br /> `Orders``:`und<xref:System.Data.Services.EntitySetRights.WriteAppend>|Nicht unterstützt|  
|`/Customers('ALFKI')/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteDelete>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteMerge>|Nicht unterstützt|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Orders(10643)/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteDelete><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteMerge>;<br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.WriteAppend><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.WriteAppend> und <xref:System.Data.Services.EntitySetRights.ReadSingle>|Nicht unterstützt|  
|`/Customers('ALFKI')/$links/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nicht unterstützt|Nicht unterstützt|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteMerge> oder <xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|Nicht unterstützt|  
|`/Customers('ALFKI')/$links/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteMerge> oder <xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|  
|`/Orders(10643)/$links/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteMerge> oder <xref:System.Data.Services.EntitySetRights.WriteReplace>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteMerge>|Nicht unterstützt|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle>;<br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers/$count`|<xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|  
|`/Customers('ALFKI')/ContactName`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|Nicht unterstützt|<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nicht unterstützt|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/Address/StreetAddress/$value`<sup>1</sup>|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.WriteDelete>|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|  
|`/Customers('ALFKI')/ContactName/$value`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.ReadSingle> und <xref:System.Data.Services.EntitySetRights.WriteDelete>|<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nicht unterstützt|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/$value` <sup>2</sup>|<xref:System.Data.Services.EntitySetRights.ReadSingle>|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nicht unterstützt|Nicht unterstützt|`Customers`: <xref:System.Data.Services.EntitySetRights.WriteAppend>|Nicht unterstützt|  
|`/Customers('ALFKI')?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - und -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|  
  
 <sup>1</sup> in diesem Beispiel `Address` stellt eine komplexe Typeigenschaft der- `Customers` Entität dar, die über eine-Eigenschaft mit dem Namen verfügt `StreetAddress` . In dem für die Northwind-Datendienste verwendeten Modell ist dieser komplexe Typ nicht explizit definiert. Wenn das Datenmodell mit dem Entity Framework-Anbieter definiert wird, können Sie mithilfe der Entity Data Model-Tools einen so komplexen Typ definieren. Weitere Informationen finden Sie unter Gewusst [wie: Erstellen und ändern komplexer Typen](/previous-versions/dotnet/netframework-4.0/dd456820(v=vs.100)).  
  
 <sup>2</sup> dieser URI wird unterstützt, wenn eine Eigenschaft, die einen Binary Large Object (BLOB) zurückgibt, als Medien Ressource definiert ist, die zu einer Entität gehört, die ein Medien Link Eintrag ist (in diesem Fall) `Customers` . Weitere Informationen finden Sie unter [streaminganbieter](streaming-provider-wcf-data-services.md).  
  
<a name="versioning"></a>
## <a name="versioning-requirements"></a>Versionsanforderungen  
 Die folgenden Datendienst-Konfigurations Verhalten erfordern Version 2 des odata-Protokolls oder spätere Versionen:  
  
- Unterstützung von Count-Anforderungen  
  
- Unterstützung der $select-Abfrageoption für die Projektion  
  
 Weitere Informationen finden Sie unter [Data Service Versioning](data-service-versioning-wcf-data-services.md).  
  
## <a name="see-also"></a>Siehe auch

- [Definieren von WCF Data Services](defining-wcf-data-services.md)
- [Hosten des Datendiensts](hosting-the-data-service-wcf-data-services.md)
