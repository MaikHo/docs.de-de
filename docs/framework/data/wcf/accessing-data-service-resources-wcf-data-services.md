---
title: Zugreifen auf Datendienstressourcen (WCF Data Services)
ms.date: 03/30/2017
helpviewer_keywords:
- WCF Data Services, querying
- getting started, WCF Data Services
- querying the data service [WCF Data Service]
- WCF Data Services, getting started
- WCF Data Services, accessing data
ms.assetid: 9665ff5b-3e3a-495d-bf83-d531d5d060ed
ms.openlocfilehash: 02e45f4e67a80d3afb600f44ea9fa6a5e175310c
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/24/2020
ms.locfileid: "91186677"
---
# <a name="accessing-data-service-resources-wcf-data-services"></a><span data-ttu-id="03da2-102">Zugreifen auf Datendienstressourcen (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="03da2-102">Accessing Data Service Resources (WCF Data Services)</span></span>

<span data-ttu-id="03da2-103">WCF Data Services unterstützt die Open Data Protocol (odata), um Ihre Daten als Feed mit Ressourcen verfügbar zu machen, die durch URIs adressierbar sind.</span><span class="sxs-lookup"><span data-stu-id="03da2-103">WCF Data Services supports the Open Data Protocol (OData) to expose your data as a feed with resources that are addressable by URIs.</span></span> <span data-ttu-id="03da2-104">Diese Ressourcen werden entsprechend den Entitäts Beziehungs Konventionen des [Entity Data Model](../adonet/entity-data-model.md)dargestellt.</span><span class="sxs-lookup"><span data-stu-id="03da2-104">These resources are represented according to the entity-relationship conventions of the [Entity Data Model](../adonet/entity-data-model.md).</span></span> <span data-ttu-id="03da2-105">In diesem Modell stellen Entitäten Funktionsbausteine von Daten, die Datentypen sind, in einer Anwendungsdomäne dar, z. B. Kunden, Bestellungen, Artikel und Produkte.</span><span class="sxs-lookup"><span data-stu-id="03da2-105">In this model, entities represent operational units of data that are data types in an application domain, such as customers, orders, items, and products.</span></span> <span data-ttu-id="03da2-106">Das Zugreifen auf und Ändern von Entitätsdaten erfolgt mit der REST ( Representational State Transfer)-Semantik, speziell mit den Standard-HTTP-Verben GET, PUT, POST und DELETE.</span><span class="sxs-lookup"><span data-stu-id="03da2-106">Entity data is accessed and changed by using the semantics of representational state transfer (REST), specifically the standard HTTP verbs of GET, PUT, POST, and DELETE.</span></span>  
  
## <a name="addressing-resources"></a><span data-ttu-id="03da2-107">Adressieren von Ressourcen</span><span class="sxs-lookup"><span data-stu-id="03da2-107">Addressing Resources</span></span>  

 <span data-ttu-id="03da2-108">In odata adressieren Sie alle Daten, die vom Datenmodell mithilfe eines URI verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="03da2-108">In OData, you address any data exposed by the data model by using a URI.</span></span> <span data-ttu-id="03da2-109">So gibt der folgende URI z. B. einen Feed zurück, bei dem es sich um die Customers-Entitätenmenge handelt, die Einträge für alle Instanzen des Customer-Entitätstyps enthält:</span><span class="sxs-lookup"><span data-stu-id="03da2-109">For example, the following URI returns a feed that is the Customers entity set, which contains entries for all instances of the Customer entity type:</span></span>  
  
<https://services.odata.org/Northwind/Northwind.svc/Customers>
  
 <span data-ttu-id="03da2-110">Entitäten verfügen über besondere Eigenschaften, die als Entitätsschlüssel bezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="03da2-110">Entities have special properties called entity keys.</span></span> <span data-ttu-id="03da2-111">Ein Entitätsschlüssel wird verwendet, um eine einzelne Entität in einer Entitätenmenge eindeutig zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="03da2-111">An entity key is used to uniquely identify a single entity in an entity set.</span></span> <span data-ttu-id="03da2-112">Dies ermöglicht es Ihnen, eine bestimmte Instanz eines Entitätstyps in der Entitätenmenge zu adressieren.</span><span class="sxs-lookup"><span data-stu-id="03da2-112">This enables you to address a specific instance of an entity type in the entity set.</span></span> <span data-ttu-id="03da2-113">Der folgende URI gibt z. B. einen Eintrag für eine bestimmte Instanz des Customer-Entitätstyps mit dem Schlüsselwert `ALFKI` zurück:</span><span class="sxs-lookup"><span data-stu-id="03da2-113">For example, the following URI returns an entry for a specific instance of the Customer entity type that has a key value of `ALFKI`:</span></span>  
  
<https://services.odata.org/Northwind/Northwind.svc/Customers('ALFKI')>
  
 <span data-ttu-id="03da2-114">Primitive und komplexe Eigenschaften einer Entitätsinstanz können auch einzeln behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="03da2-114">Primitive and complex properties of an entity instance can also be individually addressed.</span></span> <span data-ttu-id="03da2-115">Der folgende URI gibt z. B. ein XML-Element zurück, das den `ContactName`-Eigenschaftswert für einen bestimmten Kunden enthält:</span><span class="sxs-lookup"><span data-stu-id="03da2-115">For example, the following URI returns an XML element that contains the `ContactName` property value for a specific Customer:</span></span>  
  
<https://services.odata.org/Northwind/Northwind.svc/Customers('ALFKI')/ContactName>
  
 <span data-ttu-id="03da2-116">Wenn Sie den `$value`-Endpunkt in den vorherigen URI einschließen, wird in der Antwortnachricht nur der Wert der primitiven Eigenschaft zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="03da2-116">When you include the `$value` endpoint in the previous URI, only the value of the primitive property is returned in the response message.</span></span> <span data-ttu-id="03da2-117">Im folgenden Beispiel wird nur die Zeichenfolge "Maria Anders" ohne das XML-Element zurückgegeben:</span><span class="sxs-lookup"><span data-stu-id="03da2-117">The following example returns only the string "Maria Anders" without the XML element:</span></span>  
  
<https://services.odata.org/Northwind/Northwind.svc/Customers('ALFKI')/ContactName/$value>
  
 <span data-ttu-id="03da2-118">Beziehungen zwischen Entitäten werden im Datenmodell durch Zuordnungen definiert.</span><span class="sxs-lookup"><span data-stu-id="03da2-118">Relationships between entities are defined in the data model by associations.</span></span> <span data-ttu-id="03da2-119">Diese Zuordnungen ermöglichen es Ihnen, mithilfe der Navigationseigenschaften einer Entitätsinstanz verknüpfte Entitäten zu adressieren.</span><span class="sxs-lookup"><span data-stu-id="03da2-119">These associations enable you to address related entities by using navigation properties of an entity instance.</span></span> <span data-ttu-id="03da2-120">Eine Navigationseigenschaft kann entweder eine einzelne verknüpfte Entität (bei einer n:1-Beziehung) oder einen Satz von verknüpften Entitäten (bei einer 1:n-Beziehung) zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="03da2-120">A navigation property can return either a single related entity, in the case of a many-to-one relationship, or a set of related entities, in the case of a one-to-many relationship.</span></span> <span data-ttu-id="03da2-121">Der folgende URI gibt z. B. einen Feed zurück, bei dem es sich um den Satz aller Bestellungen handelt, die sich auf einen bestimmten Kunden beziehen:</span><span class="sxs-lookup"><span data-stu-id="03da2-121">For example, the following URI returns a feed that is the set of all the Orders that are related to a specific Customer:</span></span>  
  
<https://services.odata.org/Northwind/Northwind.svc/Customers('ALFKI')/Orders>
  
 <span data-ttu-id="03da2-122">Gewöhnlich bidirektionale Beziehungen werden mithilfe eines Paars von Navigationseigenschaften dargestellt.</span><span class="sxs-lookup"><span data-stu-id="03da2-122">Relationships, which are usually bi-directional, are represented by a pair of navigation properties.</span></span> <span data-ttu-id="03da2-123">Als Gegenstück zu der Beziehung im vorherigen Beispiel gibt der folgende URI einen Verweis auf die Customer-Entität zurück, zu der eine bestimmte Order-Entität gehört:</span><span class="sxs-lookup"><span data-stu-id="03da2-123">As the reverse of the relationship shown in the previous example, the following URI returns a reference to the Customer entity to which a specific Order entity belongs:</span></span>  
  
<https://services.odata.org/Northwind/Northwind.svc/Orders(10643)/Customer>
  
 <span data-ttu-id="03da2-124">Odata ermöglicht Ihnen außerdem das Adressieren von Ressourcen auf der Grundlage der Ergebnisse von Abfrage Ausdrücken.</span><span class="sxs-lookup"><span data-stu-id="03da2-124">OData also enables you to address resources based on the results of query expressions.</span></span> <span data-ttu-id="03da2-125">Dies ermöglicht das Filtern mehrerer Ressourcensätze anhand eines ausgewerteten Ausdrucks.</span><span class="sxs-lookup"><span data-stu-id="03da2-125">This makes it possible to filter sets of resources based on an evaluated expression.</span></span> <span data-ttu-id="03da2-126">Der folgende URI filtert z. B. die Ressourcen, um nur die Bestellungen für den angegebenen Kunden zurückzugeben, die seit dem 22. September 1997 ausgeliefert wurden:</span><span class="sxs-lookup"><span data-stu-id="03da2-126">For example, the following URI filters the resources to return only the Orders for the specified Customer that have shipped since September 22, 1997:</span></span>  
  
`https://services.odata.org/Northwind/Northwind.svc/Customers('ALFKI')/Orders?$filter=ShippedDate gt datetime'1997-09-22T00:00:00'`
  
 <span data-ttu-id="03da2-127">Weitere Informationen finden Sie unter [odata: URI-Konventionen](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).</span><span class="sxs-lookup"><span data-stu-id="03da2-127">For more information, see [OData: URI Conventions](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).</span></span>
  
## <a name="system-query-options"></a><span data-ttu-id="03da2-128">Systemabfrageoptionen</span><span class="sxs-lookup"><span data-stu-id="03da2-128">System Query Options</span></span>  

 <span data-ttu-id="03da2-129">Odata definiert einen Satz von System Abfrage Optionen, mit denen Sie herkömmliche Abfrage Vorgänge für Ressourcen ausführen können, z. b. Filtern, Sortieren und Paging.</span><span class="sxs-lookup"><span data-stu-id="03da2-129">OData defines a set of system query options that you can use to perform traditional query operations against resources, such as filtering, sorting, and paging.</span></span> <span data-ttu-id="03da2-130">Der folgende URI gibt z. b. den Satz aller `Order` Entitäten zusammen mit verknüpften `Order_Detail` Entitäten zurück, deren Postleitzahlen nicht auf enden `100` :</span><span class="sxs-lookup"><span data-stu-id="03da2-130">For example, the following URI returns the set of all the `Order` entities, along with related `Order_Detail` entities, the postal codes of which do not end in `100`:</span></span>  
  
`https://services.odata.org/Northwind/Northwind.svc/Orders?$filter=not endswith(ShipPostalCode,'100')&$expand=Order_Details&$orderby=ShipCity`
  
 <span data-ttu-id="03da2-131">Die Einträge des zurückgegebenen Feeds werden zudem nach dem Wert der ShipCity-Eigenschaft der Bestellungen geordnet.</span><span class="sxs-lookup"><span data-stu-id="03da2-131">The entries in the returned feed are also ordered by the value of the ShipCity property of the orders.</span></span>  
  
 <span data-ttu-id="03da2-132">WCF Data Services unterstützt die folgenden odata-System Abfrage Optionen:</span><span class="sxs-lookup"><span data-stu-id="03da2-132">WCF Data Services supports the following OData system query options:</span></span>  
  
|<span data-ttu-id="03da2-133">Abfrageoption</span><span class="sxs-lookup"><span data-stu-id="03da2-133">Query Option</span></span>|<span data-ttu-id="03da2-134">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="03da2-134">Description</span></span>|  
|------------------|-----------------|  
|`$orderby`|<span data-ttu-id="03da2-135">Definiert im zurückgegebenen Feed eine Standardsortierreihenfolge für Entitäten.</span><span class="sxs-lookup"><span data-stu-id="03da2-135">Defines a default sort order for entities in the returned feed.</span></span> <span data-ttu-id="03da2-136">Die folgende Abfrage sortiert den zurückgegebenen Kundenfeed nach Landkreis und Ort:</span><span class="sxs-lookup"><span data-stu-id="03da2-136">The following query orders the returned customers feed by county and city:</span></span><br /><br /> `https://services.odata.org/Northwind/Northwind.svc/Customers?$orderby=Country,City>`|  
|`$top`|<span data-ttu-id="03da2-137">Gibt die Anzahl der Entitäten an, die in den zurückgegebenen Feed eingeschlossen werden soll.</span><span class="sxs-lookup"><span data-stu-id="03da2-137">Specifies the number of entities to include in the returned feed.</span></span> <span data-ttu-id="03da2-138">Im folgenden Beispiel werden die ersten zehn Kunden übersprungen und die folgenden zehn zurückgegeben:</span><span class="sxs-lookup"><span data-stu-id="03da2-138">The following example skips the first 10 customers and then returns the next 10:</span></span><br /><br /> `https://services.odata.org/Northwind/Northwind.svc/Customers?$skip=10&$top=10`|  
|`$skip`|<span data-ttu-id="03da2-139">Gibt die Anzahl der Entitäten an, die vor dem Beginn der Rückgabe der Entitäten im Feed übersprungen werden sollen.</span><span class="sxs-lookup"><span data-stu-id="03da2-139">Specifies the number of entities to skip before starting to return entities in the feed.</span></span> <span data-ttu-id="03da2-140">Im folgenden Beispiel werden die ersten zehn Kunden übersprungen und die folgenden zehn zurückgegeben:</span><span class="sxs-lookup"><span data-stu-id="03da2-140">The following example skips the first 10 customers and then returns the next 10:</span></span><br /><br /> `https://services.odata.org/Northwind/Northwind.svc/Customers?$skip=10&$top=10`|  
|`$filter`|<span data-ttu-id="03da2-141">Definiert einen Ausdruck, der die im Feed zurückgegebenen Entitäten anhand bestimmter Kriterien filtert.</span><span class="sxs-lookup"><span data-stu-id="03da2-141">Defines an expression that filters the entities returned in the feed based on specific criteria.</span></span> <span data-ttu-id="03da2-142">Diese Abfrageoption unterstützt einen Satz logischer Vergleichsoperatoren, arithmetische Operatoren und vordefinierte Abfragefunktionen, die zur Auswertung des Filterausdrucks verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="03da2-142">This query option supports a set of logical comparison operators, arithmetic operators, and predefined query functions that are used to evaluate the filter expression.</span></span> <span data-ttu-id="03da2-143">Im folgenden Beispiel werden alle Bestellungen zurückgegeben, deren Postleitzahlen nicht mit "100" enden:</span><span class="sxs-lookup"><span data-stu-id="03da2-143">The following example returns all orders the postal codes of which do not end in 100:</span></span><br /><br /> `https://services.odata.org/Northwind/Northwind.svc/Orders?$filter=not endswith(ShipPostalCode,'100')`|  
|`$expand`|<span data-ttu-id="03da2-144">Gibt an, welche verknüpften Entitäten von der Abfrage zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="03da2-144">Specifies which related entities are returned by the query.</span></span> <span data-ttu-id="03da2-145">Verknüpfte Entitäten sind entweder als Feed oder als Eintrag in der von der Abfrage zurückgegebenen Entität inline enthalten.</span><span class="sxs-lookup"><span data-stu-id="03da2-145">Related entities are included as either a feed or an entry inline with the entity returned by the query.</span></span> <span data-ttu-id="03da2-146">Im folgenden Beispiel werden die Bestellungen des Kunden "ALFKI" zusammen mit den Artikeldetails der einzelnen Bestellungen zurückgegeben:</span><span class="sxs-lookup"><span data-stu-id="03da2-146">The following example returns the order for the customer 'ALFKI' along with the item details for each order:</span></span><br /><br /> `https://services.odata.org/Northwind/Northwind.svc/Customers('ALFKI')/Orders?$expand=Order_Details`|  
|`$select`|<span data-ttu-id="03da2-147">Gibt eine Projektion an, die die Eigenschaften der Entität definiert, die in der Projektion zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="03da2-147">Specifies a projection that defines the properties of the entity are returned in the projection.</span></span> <span data-ttu-id="03da2-148">In der Standardeinstellung werden alle Eigenschaften einer Entität in einem Feed zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="03da2-148">By default, all properties of an entity are returned in a feed.</span></span> <span data-ttu-id="03da2-149">Die folgende Abfrage gibt nur drei Eigenschaften der `Customer`-Entität zurück:</span><span class="sxs-lookup"><span data-stu-id="03da2-149">The following query returns only three properties of the `Customer` entity:</span></span><br /><br /> `https://services.odata.org/Northwind/Northwind.svc/Customers?$select=CustomerID,CompanyName,City`|  
|`$inlinecount`|<span data-ttu-id="03da2-150">Fordert an, dass die Anzahl der im Feed zurückgegebenen Entitäten im Feed enthalten sein muss.</span><span class="sxs-lookup"><span data-stu-id="03da2-150">Requests that a count of the number of entities returned in the feed be included with the feed.</span></span>|  
  
## <a name="addressing-relationships"></a><span data-ttu-id="03da2-151">Behandeln von Beziehungen</span><span class="sxs-lookup"><span data-stu-id="03da2-151">Addressing Relationships</span></span>  

 <span data-ttu-id="03da2-152">Zusätzlich zum Adressieren von Entitätenmengen und Entitäts Instanzen ermöglicht odata auch das adressieren der Zuordnungen, die Beziehungen zwischen Entitäten darstellen.</span><span class="sxs-lookup"><span data-stu-id="03da2-152">In addition to addressing entity sets and entity instances, OData also enables you to address the associations that represent relationships between entities.</span></span> <span data-ttu-id="03da2-153">Diese Funktionalität ist erforderlich, um eine Beziehung zwischen zwei Entitätsinstanzen erstellen oder ändern zu können, z. B. das Versandunternehmen, das sich auf eine angegebene Bestellung in der Northwind-Beispieldatenbank bezieht.</span><span class="sxs-lookup"><span data-stu-id="03da2-153">This functionality is required to be able to create or change a relationship between two entity instances, such as the shipper that is related to a given order in the Northwind sample database.</span></span> <span data-ttu-id="03da2-154">Odata unterstützt einen- `$link` Operator, um die Zuordnungen zwischen Entitäten zu adressieren.</span><span class="sxs-lookup"><span data-stu-id="03da2-154">OData supports a `$link` operator to specifically address the associations between entities.</span></span> <span data-ttu-id="03da2-155">Der folgende URI wird z. B. in einer HTTP PUT-Anforderungsnachricht angegeben, um das Versandunternehmen für die angegebene Bestellung in ein neues Versandunternehmen zu ändern.</span><span class="sxs-lookup"><span data-stu-id="03da2-155">For example, the following URI is specified in an HTTP PUT request message to change the shipper for the specified order to a new shipper.</span></span>  
  
`https://services.odata.org/Northwind/Northwind.svc/Orders(10643)/$links/Shipper`
  
 <span data-ttu-id="03da2-156">Weitere Informationen finden Sie im Abschnitt `3.2. Addressing Links between Entries` unter [odata: URI-Konventionen](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).</span><span class="sxs-lookup"><span data-stu-id="03da2-156">For more information, see section `3.2. Addressing Links between Entries` at [OData: URI Conventions](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).</span></span>
  
## <a name="consuming-the-returned-feed"></a><span data-ttu-id="03da2-157">Verwenden des zurückgegebenen Feeds</span><span class="sxs-lookup"><span data-stu-id="03da2-157">Consuming the Returned Feed</span></span>  

 <span data-ttu-id="03da2-158">Der URI einer odata-Ressource ermöglicht es Ihnen, vom Dienst verfügbar gemachte Entitäts Daten zu adressieren.</span><span class="sxs-lookup"><span data-stu-id="03da2-158">The URI of an OData resource enables you to address entity data exposed by the service.</span></span> <span data-ttu-id="03da2-159">Wenn Sie einen URI in das Adressfeld eines Webbrowsers eingeben, wird eine odata-Feed-Darstellung der angeforderten Ressource zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="03da2-159">When you enter a URI into the address field of a Web browser, a OData feed representation of the requested resource is returned.</span></span> <span data-ttu-id="03da2-160">Weitere Informationen finden Sie in der [WCF Data Services Schnellstart](quickstart-wcf-data-services.md)Anleitung.</span><span class="sxs-lookup"><span data-stu-id="03da2-160">For more information, see the [WCF Data Services Quickstart](quickstart-wcf-data-services.md).</span></span> <span data-ttu-id="03da2-161">Obwohl ein Webbrowser nützlich sein kann, um zu testen, ob eine Datendienstressource die erwarteten Daten zurückgibt, wird auf Produktionsdatendiensten, die Daten auch erstellen, aktualisieren und löschen können, im Allgemeinen mit Anwendungscode oder Skriptsprachen auf einer Webseite zugegriffen.</span><span class="sxs-lookup"><span data-stu-id="03da2-161">Although a Web browser may be useful for testing that a data service resource returns the expected data, production data services that can also create, update, and delete data are generally accessed by application code or scripting languages in a Web page.</span></span> <span data-ttu-id="03da2-162">Weitere Informationen finden Sie unter [Verwenden eines Daten Dienstanbieter in einer Client Anwendung](using-a-data-service-in-a-client-application-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="03da2-162">For more information, see [Using a Data Service in a Client Application](using-a-data-service-in-a-client-application-wcf-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="03da2-163">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="03da2-163">See also</span></span>

- [<span data-ttu-id="03da2-164">Open Data Protocol-Website</span><span class="sxs-lookup"><span data-stu-id="03da2-164">Open Data Protocol Web site</span></span>](https://www.odata.org/)
