---
title: Verpacken und Bereitstellen von Ressourcen in .NET-Apps
description: In diesem Artikel erfahren Sie, wie Sie Ressourcen in .NET-Apps mithilfe einer Hauptassembly (Hub) und Satellitenassemblys (Spokes) packen und bereitstellen. Spokes enthalten lokalisierte Ressourcen, aber keinen Code.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- deploying applications [.NET Framework], resources
- resource files, deploying
- hub-and-spoke resource deployment model
- resource files, packaging
- application resources, packaging
- single resource assembly
- satellite assemblies
- default culture for applications
- names [.NET Framework], resources
- fallback process for resources
- grouping cultures
- application resources, deploying
- application resources, naming conventions
- culture, packaging and deploying resources
- resource files, naming conventions
- packaging application resources
- application resources, fallback processes
- resource files, fallback processes
- localizing resources
- neutral cultures
ms.assetid: b224d7c0-35f8-4e82-a705-dd76795e8d16
ms.openlocfilehash: 056569f86afcbdf124f9e617e4ad07b09a194681
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 09/15/2020
ms.locfileid: "90553999"
---
# <a name="packaging-and-deploying-resources-in-net-apps"></a><span data-ttu-id="1961a-104">Verpacken und Bereitstellen von Ressourcen in .NET-Apps</span><span class="sxs-lookup"><span data-stu-id="1961a-104">Packaging and Deploying Resources in .NET Apps</span></span>

<span data-ttu-id="1961a-105">Anwendungen sind davon abhängig, dass der .NET Framework-Ressourcen-Manager, der von der Klasse <xref:System.Resources.ResourceManager> dargestellt wird, lokalisierte Ressourcen abruft.</span><span class="sxs-lookup"><span data-stu-id="1961a-105">Applications rely on the .NET Framework Resource Manager, represented by the <xref:System.Resources.ResourceManager> class, to retrieve localized resources.</span></span> <span data-ttu-id="1961a-106">Der Ressourcen-Manager geht davon aus, dass ein Speichenarchitektur-Modell (Hub-and-Spoke) verwendet wird, um Ressourcen zu verpacken und bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="1961a-106">The Resource Manager assumes that a hub and spoke model is used to package and deploy resources.</span></span> <span data-ttu-id="1961a-107">Der Hub ist die Hauptassembly, die den nicht lokalisierbaren, ausführbaren Code und die Ressourcen für eine einzelne Kultur enthält, die als neutrale oder Standardkultur bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="1961a-107">The hub is the main assembly that contains the nonlocalizable executable code and the resources for a single culture, called the neutral or default culture.</span></span> <span data-ttu-id="1961a-108">Die Standardkultur ist die Ausweichkultur der Anwendung. Dabei handelt es sich um die Kultur, deren Ressourcen verwendet werden, wenn keine lokalisierten Ressourcen gefunden werden können.</span><span class="sxs-lookup"><span data-stu-id="1961a-108">The default culture is the fallback culture for the application; it is the culture whose resources are used if localized resources cannot be found.</span></span> <span data-ttu-id="1961a-109">Jede Speiche ist mit einer Satellitenassembly verbunden, die die Ressourcen für eine einzelne Kultur aber keinen Code enthält.</span><span class="sxs-lookup"><span data-stu-id="1961a-109">Each spoke connects to a satellite assembly that contains the resources for a single culture, but does not contain any code.</span></span>

<span data-ttu-id="1961a-110">Dieses Modell hat mehrere Vorzüge:</span><span class="sxs-lookup"><span data-stu-id="1961a-110">There are several advantages to this model:</span></span>

- <span data-ttu-id="1961a-111">Sie können Ressourcen für neue Kulturen inkrementell hinzufügen, nachdem Sie eine Anwendung bereitgestellt haben.</span><span class="sxs-lookup"><span data-stu-id="1961a-111">You can incrementally add resources for new cultures after you have deployed an application.</span></span> <span data-ttu-id="1961a-112">Da die aufeinanderfolgende Entwicklung von kulturspezifischen Ressourcen viel Zeit in Anspruch nehmen kann, können Sie so zunächst Ihre Hauptanwendung veröffentlichen und kulturspezifische Ressourcen zu einem späteren Zeitpunkt nachreichen.</span><span class="sxs-lookup"><span data-stu-id="1961a-112">Because subsequent development of culture-specific resources can require a significant amount of time, this allows you to release your main application first, and deliver culture-specific resources at a later date.</span></span>
- <span data-ttu-id="1961a-113">Sie können die Satellitenassembly einer Anwendung aktualisieren oder ändern, ohne die Anwendung erneut kompilieren zu müssen.</span><span class="sxs-lookup"><span data-stu-id="1961a-113">You can update and change an application's satellite assemblies without recompiling the application.</span></span>
- <span data-ttu-id="1961a-114">Eine Anwendung muss nur die Satellitenassemblys laden, die die für eine bestimmte Kultur benötigten Ressourcen enthalten.</span><span class="sxs-lookup"><span data-stu-id="1961a-114">An application needs to load only those satellite assemblies that contain the resources needed for a particular culture.</span></span> <span data-ttu-id="1961a-115">Dadurch kann die Auslastung von Systemressourcen deutlich verringert werden.</span><span class="sxs-lookup"><span data-stu-id="1961a-115">This can significantly reduce the use of system resources.</span></span>

 <span data-ttu-id="1961a-116">Dennoch hat dieses Modell auch Nachteile:</span><span class="sxs-lookup"><span data-stu-id="1961a-116">However, there are also disadvantages to this model:</span></span>

- <span data-ttu-id="1961a-117">Sie müssen mehrere Ressourcensätze gleichzeitig verwalten.</span><span class="sxs-lookup"><span data-stu-id="1961a-117">You must manage multiple sets of resources.</span></span>
- <span data-ttu-id="1961a-118">Der anfängliche Kostenaufwand für das Testen einer Anwendung steigt, da Sie mehrere Konfigurationen überprüfen müssen.</span><span class="sxs-lookup"><span data-stu-id="1961a-118">The initial cost of testing an application increases, because you must test several configurations.</span></span> <span data-ttu-id="1961a-119">Beachten Sie, dass es auf lange Sicht einfacher und kostengünstiger wird, eine Kernanwendung mit mehreren Satelliten zu testen, als mehrere internationale Versionen gleichzeitig zu testen und zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="1961a-119">Note that in the long term it will be easier and less expensive to test one core application with several satellites, than to test and maintain several parallel international versions.</span></span>

## <a name="resource-naming-conventions"></a><span data-ttu-id="1961a-120">Konventionen für Ressourcennamen</span><span class="sxs-lookup"><span data-stu-id="1961a-120">Resource naming conventions</span></span>

<span data-ttu-id="1961a-121">Wenn Sie die Ressourcen Ihrer Anwendung verpacken, müssen Sie diese gemäß den Namenskonventionen für Ressourcen benennen, die von der Common Language Runtime (CLR) erwartet werden.</span><span class="sxs-lookup"><span data-stu-id="1961a-121">When you package your application's resources, you must name them using the resource naming conventions that the common language runtime expects.</span></span> <span data-ttu-id="1961a-122">Die Runtime identifiziert eine Ressource anhand deren Kulturnamen.</span><span class="sxs-lookup"><span data-stu-id="1961a-122">The runtime identifies a resource by its culture name.</span></span> <span data-ttu-id="1961a-123">Jede Kultur erhält einen eindeutigen Namen, für gewöhnlich eine Kombination aus zwei Kleinbuchstaben, die für eine Kultur und die damit verbundene Sprache steht, und, falls erforderlich, zwei Großbuchstaben, die für eine Subkultur und das damit verbundene Land bzw. die Region stehen.</span><span class="sxs-lookup"><span data-stu-id="1961a-123">Each culture is given a unique name, which is usually a combination of a two-letter, lowercase culture name associated with a language and, if required, a two-letter, uppercase subculture name associated with a country or region.</span></span> <span data-ttu-id="1961a-124">Der Name der Subkultur steht hinter dem Namen der Kultur, getrennt durch einen Bindestrich (-).</span><span class="sxs-lookup"><span data-stu-id="1961a-124">The subculture name follows the culture name, separated by a dash (-).</span></span> <span data-ttu-id="1961a-125">Dies kann z.B. ja-JP für das in Japan gesprochene Japanisch sein, en-US für das amerikanische Englisch, de-DE für das in Deutschland gesprochene Deutsch oder de-AT für Österreichisch.</span><span class="sxs-lookup"><span data-stu-id="1961a-125">Examples include ja-JP for Japanese as spoken in Japan, en-US for English as spoken in the United States, de-DE for German as spoken in Germany, or de-AT for German as spoken in Austria.</span></span> <span data-ttu-id="1961a-126">Siehe die Spalte **Sprach-Tag**  in der [Liste der von Windows unterstützten Sprach- und Regionsnamen](/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c).</span><span class="sxs-lookup"><span data-stu-id="1961a-126">See the **Language tag** column in the [list of language/region names supported by Windows](/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c).</span></span> <span data-ttu-id="1961a-127">Kulturnamen befolgen den von [BCP 47](https://tools.ietf.org/html/bcp47) definierten Standard.</span><span class="sxs-lookup"><span data-stu-id="1961a-127">Culture names follow the standard defined by [BCP 47](https://tools.ietf.org/html/bcp47).</span></span>

> [!NOTE]
> <span data-ttu-id="1961a-128">Es gibt einige Ausnahmen für die Kulturnamen mit zwei Buchstaben, z. B. `zh-Hans` für Chinesisch (vereinfacht).</span><span class="sxs-lookup"><span data-stu-id="1961a-128">There are some exceptions for the two-letter culture names, such as `zh-Hans` for Chinese (Simplified).</span></span>

> [!NOTE]
> <span data-ttu-id="1961a-129">Informationen zum Erstellen von Ressourcendateien finden Sie unter [Erstellen von Ressourcendateien](creating-resource-files-for-desktop-apps.md) und [Erstellen von Satellitenassemblys](creating-satellite-assemblies-for-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="1961a-129">For information about creating resource files, see [Creating Resource Files](creating-resource-files-for-desktop-apps.md) and [Creating Satellite Assemblies](creating-satellite-assemblies-for-desktop-apps.md).</span></span>

<a name="cpconpackagingdeployingresourcesanchor1"></a>

## <a name="the-resource-fallback-process"></a><span data-ttu-id="1961a-130">Der Ressourcenfallback-Prozess</span><span class="sxs-lookup"><span data-stu-id="1961a-130">The Resource Fallback Process</span></span>

<span data-ttu-id="1961a-131">Das Speichenarchitektur-Modell (Hub-and-Spoke) zum Verpacken und Bereitstellen von Ressourcen setzt einen Fallbackprozess ein, um die passenden Ressourcen zu finden.</span><span class="sxs-lookup"><span data-stu-id="1961a-131">The hub and spoke model for packaging and deploying resources uses a fallback process to locate appropriate resources.</span></span> <span data-ttu-id="1961a-132">Wenn eine Anwendung eine lokalisierte Ressource anfordert, die nicht verfügbar ist, durchsucht die CLR die Hierarchie von Kulturen nach einer passenden Ausweichressource, die am ehesten der Anfrage der Anwendung des Benutzers entspricht, und löst eine Ausnahme nur dann aus, wenn es keine andere Möglichkeit gibt.</span><span class="sxs-lookup"><span data-stu-id="1961a-132">If an application requests a localized resource  that is unavailable, the common language runtime searches the hierarchy of cultures for an appropriate fallback resource that most closely matches the user's application's request, and throws an exception only as a last resort.</span></span> <span data-ttu-id="1961a-133">Wenn eine passende Ressource auf einer der Ebenen der Hierarchie gefunden wird, verwendet die Runtime diese.</span><span class="sxs-lookup"><span data-stu-id="1961a-133">At each level of the hierarchy, if an appropriate resource is found, the runtime uses it.</span></span> <span data-ttu-id="1961a-134">Wenn keine Ressource gefunden wird, wird die Suche auf der nächsten Ebene fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="1961a-134">If the resource is not found, the search continues at the next level.</span></span>

<span data-ttu-id="1961a-135">Um die Suchleistung zu verbessern, wenden Sie das Attribut <xref:System.Resources.NeutralResourcesLanguageAttribute> auf Ihre Hauptassembly an, und übergeben Sie diesem den Namen der neutralen Sprache, die mit Ihrer Hauptassembly funktioniert.</span><span class="sxs-lookup"><span data-stu-id="1961a-135">To improve lookup performance, apply the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to your main assembly, and pass it the name of the neutral language that will work with your main assembly.</span></span>

### <a name="net-framework-resource-fallback-process"></a><span data-ttu-id="1961a-136">.NET Framework-Ressourcenfallback-Prozess</span><span class="sxs-lookup"><span data-stu-id="1961a-136">.NET Framework resource fallback process</span></span>

<span data-ttu-id="1961a-137">Der .NET Framework-Ressourcenfallbackprozess besteht aus folgenden Schritten:</span><span class="sxs-lookup"><span data-stu-id="1961a-137">The .NET Framework resource fallback process involves the following steps:</span></span>

> [!TIP]
> <span data-ttu-id="1961a-138">Möglicherweise können Sie auch den Fallbackprozess von Ressourcen und den Runtimesuchprozess nach Ressourcenassemblys mit dem Konfigurationselement [\<relativeBindForResources>](../configure-apps/file-schema/runtime/relativebindforresources-element.md) verbessern.</span><span class="sxs-lookup"><span data-stu-id="1961a-138">You may be able to use the [\<relativeBindForResources>](../configure-apps/file-schema/runtime/relativebindforresources-element.md) configuration element to optimize the resource fallback process and the process by which the runtime probes for resource assemblies.</span></span> <span data-ttu-id="1961a-139">Weitere Informationen finden Sie im Abschnitt [Verbessern des Ressourcenfallbackprozesses](packaging-and-deploying-resources-in-desktop-apps.md#Optimizing).</span><span class="sxs-lookup"><span data-stu-id="1961a-139">For more information, see the [Optimizing the Resource Fallback Process](packaging-and-deploying-resources-in-desktop-apps.md#Optimizing) section.</span></span>

1. <span data-ttu-id="1961a-140">Zunächst prüft die Runtime den [globalen Assemblycache](../app-domains/gac.md) auf eine Assembly, die der angeforderten Kultur für Ihre Anwendung entspricht.</span><span class="sxs-lookup"><span data-stu-id="1961a-140">The runtime first checks the [global assembly cache](../app-domains/gac.md) for an assembly that matches the requested culture for your application.</span></span>

     <span data-ttu-id="1961a-141">Der globale Assemblycache kann Ressourcenassemblys speichern, die in vielen Anwendungen eingesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="1961a-141">The global assembly cache can store resource assemblies that are shared by many applications.</span></span> <span data-ttu-id="1961a-142">So müssen Sie keine bestimmten Ressourcensätze in die Verzeichnisstruktur von jeder Anwendung, die sie erstellen, einbeziehen.</span><span class="sxs-lookup"><span data-stu-id="1961a-142">This frees you from having to include specific sets of resources in the directory structure of every application you create.</span></span> <span data-ttu-id="1961a-143">Wenn die Runtime einen Verweis auf die Assembly findet, durchsucht sie die Assembly nach der angeforderten Ressource.</span><span class="sxs-lookup"><span data-stu-id="1961a-143">If the runtime finds a reference to the assembly, it searches the assembly for the requested resource.</span></span> <span data-ttu-id="1961a-144">Wenn sie den Eintrag in der Assembly findet, verwendet sie die angeforderte Ressource.</span><span class="sxs-lookup"><span data-stu-id="1961a-144">If it finds the entry in the assembly, it uses the requested resource.</span></span> <span data-ttu-id="1961a-145">Wenn sie den Eintrag nicht findet, fährt sie mit der Suche fort.</span><span class="sxs-lookup"><span data-stu-id="1961a-145">If it doesn't find the entry, it continues the search.</span></span>

2. <span data-ttu-id="1961a-146">Als Nächstes prüft die Runtime das Verzeichnis der aktuell ausgeführten Assembly auf ein Unterverzeichnis, das der angeforderten Kultur entspricht.</span><span class="sxs-lookup"><span data-stu-id="1961a-146">The runtime next checks the directory of the currently executing assembly for a subdirectory that matches the requested culture.</span></span> <span data-ttu-id="1961a-147">Wenn sie das Unterverzeichnis findet, durchsucht sie es nach einer gültigen Satellitenassembly für die angeforderte Kultur.</span><span class="sxs-lookup"><span data-stu-id="1961a-147">If it finds the subdirectory, it searches that subdirectory for a valid satellite assembly for the requested culture.</span></span> <span data-ttu-id="1961a-148">Dann durchsucht die Runtime die Satellitenassembly nach der angeforderten Ressource.</span><span class="sxs-lookup"><span data-stu-id="1961a-148">The runtime then searches the satellite assembly for the requested resource.</span></span> <span data-ttu-id="1961a-149">Wenn sie die Ressource in der Assembly findet, verwendet sie diese.</span><span class="sxs-lookup"><span data-stu-id="1961a-149">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="1961a-150">Wenn sie die Ressource nicht findet, fährt sie mit der Suche fort.</span><span class="sxs-lookup"><span data-stu-id="1961a-150">If it doesn't find the resource, it continues the search.</span></span>

3. <span data-ttu-id="1961a-151">Anschließend fragt die Runtime den Windows Installer ab, um zu bestimmten, ob die Satellitenassembly bei Bedarf installiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="1961a-151">The runtime next queries the Windows Installer to determine whether the satellite assembly is to be installed on demand.</span></span> <span data-ttu-id="1961a-152">Wenn dies der Fall ist, kümmert sie sich um die Installation, lädt die Assembly und durchsucht diese nach der angeforderten Ressource.</span><span class="sxs-lookup"><span data-stu-id="1961a-152">If so, it handles the installation, loads the assembly, and searches it or the requested resource.</span></span> <span data-ttu-id="1961a-153">Wenn sie die Ressource in der Assembly findet, verwendet sie diese.</span><span class="sxs-lookup"><span data-stu-id="1961a-153">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="1961a-154">Wenn sie die Ressource nicht findet, fährt sie mit der Suche fort.</span><span class="sxs-lookup"><span data-stu-id="1961a-154">If it doesn't find the resource, it continues the search.</span></span>

4. <span data-ttu-id="1961a-155">Die Runtime löst das Ereignis <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> aus, um anzugeben, dass die Satellitenassembly nicht gefunden werden kann.</span><span class="sxs-lookup"><span data-stu-id="1961a-155">The runtime raises the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event to indicate that it is unable to find the satellite assembly.</span></span> <span data-ttu-id="1961a-156">Wenn Sie das Ereignis behandeln möchten, kann Ihr Ereignishandler einen Verweis auf die Satellitenassembly zurückgeben, deren Ressourcen bei der Suche verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1961a-156">If you choose to handle the event, your event handler can return a reference to the satellite assembly whose resources will be used for the lookup.</span></span> <span data-ttu-id="1961a-157">Andernfalls gibt der Ereignishandler `null` zurück und die Suche wird fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="1961a-157">Otherwise, the event handler returns `null` and the search continues.</span></span>

5. <span data-ttu-id="1961a-158">Als Nächstes durchsucht die Runtime erneut den globalen Assemblycache, aber dieses Mal sucht sie nach der übergeordneten Assembly der angeforderten Kultur.</span><span class="sxs-lookup"><span data-stu-id="1961a-158">The runtime next searches the global assembly cache again, this time for the parent assembly of the requested culture.</span></span> <span data-ttu-id="1961a-159">Wenn die übergeordnete Assembly im globalen Assemblycache vorhanden ist, durchsucht die Runtime die Assembly nach der angeforderten Ressource.</span><span class="sxs-lookup"><span data-stu-id="1961a-159">If the parent assembly exists in the global assembly cache, the runtime searches the assembly for the requested resource.</span></span>

     <span data-ttu-id="1961a-160">Die übergeordnete Kultur ist als zulässige Fallbackkultur definiert.</span><span class="sxs-lookup"><span data-stu-id="1961a-160">The parent culture is defined as the appropriate fallback culture.</span></span> <span data-ttu-id="1961a-161">Übergeordnete Elemente könne als Fallback genutzt werden, da da Bereitstellen einer Ressource dem Auslösen einer Ausnahme vorzuziehen ist.</span><span class="sxs-lookup"><span data-stu-id="1961a-161">Consider parents as fallback candidates, because providing any resource is preferable to throwing an exception.</span></span> <span data-ttu-id="1961a-162">Durch diesen Prozess könne Sie auch Ressourcen wiederverwenden.</span><span class="sxs-lookup"><span data-stu-id="1961a-162">This process also allows you to reuse resources.</span></span> <span data-ttu-id="1961a-163">Sie sollten auf der Ebene des übergeordneten Elements nur dann eine bestimmte Ressource verwenden, wenn die untergeordnete Kultur die angeforderte Ressource nicht lokalisieren muss.</span><span class="sxs-lookup"><span data-stu-id="1961a-163">You should include a particular resource at the parent level only if the child culture doesn't need to localize the requested resource.</span></span> <span data-ttu-id="1961a-164">Wenn Sie z.B. eine Satellitenassembly für `en` (neutrales Englisch), `en-GB` (britisches Englisch) und `en-US` (amerikanisches Englisch) bereitstellen, enthält der `en`-Satellit das gemeinsame Vokabular, und die Satelliten für `en-GB` und `en-US` enthalten nur Überschreibungen für Begriffe, die sich in den beiden Kulturen unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="1961a-164">For example, if you supply satellite assemblies for `en` (neutral English), `en-GB` (English as spoken in the United Kingdom), and `en-US` (English as spoken in the United States), the `en` satellite would contain the common terminology, and the `en-GB` and `en-US` satellites could provide overrides for only those terms that differ.</span></span>

6. <span data-ttu-id="1961a-165">Als Nächstes prüft die Runtime das Verzeichnis der aktuell ausgeführten Assembly auf übergeordnete Verzeichnisse.</span><span class="sxs-lookup"><span data-stu-id="1961a-165">The runtime next checks the directory of the currently executing assembly to see if it contains a parent directory.</span></span> <span data-ttu-id="1961a-166">Wenn ein übergeordnetes Verzeichnis vorhanden ist, durchsucht die Runtime das Verzeichnis nach einer gültigen Satellitenassembly für die übergeordnete Kultur.</span><span class="sxs-lookup"><span data-stu-id="1961a-166">If a parent directory exists, the runtime searches the directory for a valid satellite assembly for the parent culture.</span></span> <span data-ttu-id="1961a-167">Wenn sie die Assembly findet, durchsucht die Runtime die Assembly nach der angeforderten Ressource.</span><span class="sxs-lookup"><span data-stu-id="1961a-167">If it finds the assembly, the runtime searches the assembly for the requested resource.</span></span> <span data-ttu-id="1961a-168">Wenn sie die Ressource findet, verwendet sie diese.</span><span class="sxs-lookup"><span data-stu-id="1961a-168">If it finds the resource, it uses it.</span></span> <span data-ttu-id="1961a-169">Wenn sie die Ressource nicht findet, fährt sie mit der Suche fort.</span><span class="sxs-lookup"><span data-stu-id="1961a-169">If it doesn't find the resource, it continues the search.</span></span>

7. <span data-ttu-id="1961a-170">Anschließend fragt die Runtime den Windows Installer ab, um zu bestimmten, ob die übergeordnete Satellitenassembly bei Bedarf installiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="1961a-170">The runtime next queries the Windows Installer to determine whether the parent satellite assembly is to be installed on demand.</span></span> <span data-ttu-id="1961a-171">Wenn dies der Fall ist, kümmert sie sich um die Installation, lädt die Assembly und durchsucht diese nach der angeforderten Ressource.</span><span class="sxs-lookup"><span data-stu-id="1961a-171">If so, it handles the installation, loads the assembly, and searches it or the requested resource.</span></span> <span data-ttu-id="1961a-172">Wenn sie die Ressource in der Assembly findet, verwendet sie diese.</span><span class="sxs-lookup"><span data-stu-id="1961a-172">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="1961a-173">Wenn sie die Ressource nicht findet, fährt sie mit der Suche fort.</span><span class="sxs-lookup"><span data-stu-id="1961a-173">If it doesn't find the resource, it continues the search.</span></span>

8. <span data-ttu-id="1961a-174">Die Runtime löst das Ereignis <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> aus, um anzugeben, dass die entsprechende Fallbackressource nicht gefunden werden kann.</span><span class="sxs-lookup"><span data-stu-id="1961a-174">The runtime raises the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event to indicate that it is unable to find an appropriate fallback resource.</span></span> <span data-ttu-id="1961a-175">Wenn Sie das Ereignis behandeln möchten, kann Ihr Ereignishandler einen Verweis auf die Satellitenassembly zurückgeben, deren Ressourcen bei der Suche verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1961a-175">If you choose to handle the event, your event handler can return a reference to the satellite assembly whose resources will be used for the lookup.</span></span> <span data-ttu-id="1961a-176">Andernfalls gibt der Ereignishandler `null` zurück und die Suche wird fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="1961a-176">Otherwise, the event handler returns `null` and the search continues.</span></span>

9. <span data-ttu-id="1961a-177">Als Nächstes durchsucht die Runtime die übergeordnete Assembly genauso wie in den drei vorherigen Schritten auf vielen möglichen Ebenen.</span><span class="sxs-lookup"><span data-stu-id="1961a-177">The runtime next searches parent assemblies, as in the previous three steps, through many potential levels.</span></span> <span data-ttu-id="1961a-178">Jede Kultur hat nur ein übergeordnetes Element, das durch die <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType>-Eigenschaft definiert wird. Ein übergeordnetes Element kann jedoch wieder sein eigenes übergeordnetes Element haben.</span><span class="sxs-lookup"><span data-stu-id="1961a-178">Each culture has only one parent, which is defined by the <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType> property, but a parent might have its own parent.</span></span> <span data-ttu-id="1961a-179">Die Suche nach übergeordneten Kulturen ist beendet, wenn die <xref:System.Globalization.CultureInfo.Parent%2A>-Eigenschaft einer Kultur <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> zurückgibt. Beim Ressourcenfallback wird die invariante Kultur nicht als übergeordnete Kultur oder als Kultur angesehen, die Ressourcen haben kann.</span><span class="sxs-lookup"><span data-stu-id="1961a-179">The search for parent cultures stops when a culture's <xref:System.Globalization.CultureInfo.Parent%2A> property returns <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>; for resource fallback, the invariant culture is not considered a parent culture or a culture that can have resources.</span></span>

10. <span data-ttu-id="1961a-180">Wenn die ursprünglich angegebene Kultur und alle übergeordneten Elemente durchsucht wurden, und die Ressource immer noch nicht gefunden werden kann, wir die Ressource für die Standardkultur (Fallback) verwendet.</span><span class="sxs-lookup"><span data-stu-id="1961a-180">If the culture that was originally specified and all parents have been searched and the resource is still not found, the resource for the default (fallback) culture is used.</span></span> <span data-ttu-id="1961a-181">Für gewöhnlich werden die Ressourcen der Standardkultur in die Hauptassembly der Anwendung integriert.</span><span class="sxs-lookup"><span data-stu-id="1961a-181">Typically, the resources for the default culture are included in the main application assembly.</span></span> <span data-ttu-id="1961a-182">Sie könne aber einen Wert von <xref:System.Resources.UltimateResourceFallbackLocation.Satellite> für die <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A>-Eigenschaft des <xref:System.Resources.NeutralResourcesLanguageAttribute>-Attributs angeben, um festzulegen, dass der endgültige Fallbackort für Ressourcen eine Satellitenassembly ist und nicht die Hauptassembly.</span><span class="sxs-lookup"><span data-stu-id="1961a-182">However, you can specify a value of <xref:System.Resources.UltimateResourceFallbackLocation.Satellite> for the <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A> property of the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to indicate that the ultimate fallback location for resources is a satellite assembly, rather than the main assembly.</span></span>

    > [!NOTE]
    > <span data-ttu-id="1961a-183">Die Standardressource ist die einzige Ressource, die mit der Hauptassembly kompiliert werden kann.</span><span class="sxs-lookup"><span data-stu-id="1961a-183">The default resource is the only resource that can be compiled with the main assembly.</span></span> <span data-ttu-id="1961a-184">Wenn Sie nicht mit dem <xref:System.Resources.NeutralResourcesLanguageAttribute>-Attribut eine Satellitenassembly angegeben haben, ist sie der endgültige Fallback (letztes übergeordnetes Element).</span><span class="sxs-lookup"><span data-stu-id="1961a-184">Unless you specify a satellite assembly by using the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute, it is the ultimate fallback (final parent).</span></span> <span data-ttu-id="1961a-185">Deshalb wird empfohlen, dass Sie immer ein Standardset an Ressourcen in Ihre Hauptassembly integrieren.</span><span class="sxs-lookup"><span data-stu-id="1961a-185">Therefore, we recommend that you always include a default set of resources in your main assembly.</span></span> <span data-ttu-id="1961a-186">So werden Ausnahmen verhindert.</span><span class="sxs-lookup"><span data-stu-id="1961a-186">This helps prevent exceptions from being thrown.</span></span> <span data-ttu-id="1961a-187">Durch das Integrieren einer Standardressourcendatei stellen Sie einen Fallback für alle Ressourcen zur Verfügung und stellen sicher, dass immer mindestens eine Ressource für den Benutzer verfügbar ist, auch wenn diese nicht kulturspezifisch ist.</span><span class="sxs-lookup"><span data-stu-id="1961a-187">By including a default resource, file you provide a fallback for all resources and ensure that at least one resource is always present for the user, even if it is not culturally specific.</span></span>

11. <span data-ttu-id="1961a-188">Wenn die Runtime keine Ressource für eine Standard(fallback)kultur findet, wird die Ausnahme <xref:System.Resources.MissingManifestResourceException> oder <xref:System.Resources.MissingSatelliteAssemblyException> ausgelöst, um anzugeben, dass die Ressource nicht gefunden werden konnte.</span><span class="sxs-lookup"><span data-stu-id="1961a-188">Finally, if the runtime doesn't find a resource for a default (fallback) culture, a <xref:System.Resources.MissingManifestResourceException> or <xref:System.Resources.MissingSatelliteAssemblyException> exception is thrown to indicate that the resource could not be found.</span></span>

<span data-ttu-id="1961a-189">Nehmen Sie z.B. an, dass die Anwendung eine lokalisierte Ressource für Spanisch (Mexiko) anfordert (die Kultur `es-MX`).</span><span class="sxs-lookup"><span data-stu-id="1961a-189">For example, suppose the application requests a resource localized for Spanish (Mexico) (the `es-MX` culture).</span></span> <span data-ttu-id="1961a-190">Zunächst durchsucht die Runtime den globalen Assemblycache nach der Assembly, die `es-MX` entspricht. Diese kann jedoch nicht gefunden werden.</span><span class="sxs-lookup"><span data-stu-id="1961a-190">The runtime first searches the global assembly cache for the assembly that matches `es-MX`, but doesn't find it.</span></span> <span data-ttu-id="1961a-191">Dann durchsucht die Runtime das Verzeichnis der aktuell ausgeführten Assembly nach dem Verzeichnis `es-MX`.</span><span class="sxs-lookup"><span data-stu-id="1961a-191">The runtime then searches the directory of the currently executing assembly for an `es-MX` directory.</span></span> <span data-ttu-id="1961a-192">Da auch dies zu keinem Ergebnis führt, durchsucht die Runtime erneut den globalen Assemblycache nach einer übergeordneten Kultur, die der entsprechenden Fallbackkultur entspricht – in diesem Fall `es` (Spanisch).</span><span class="sxs-lookup"><span data-stu-id="1961a-192">Failing that, the runtime searches the global assembly cache again for a parent assembly that reflects the appropriate fallback culture — in this case, `es` (Spanish).</span></span> <span data-ttu-id="1961a-193">Wenn die übergeordnete Assembly nicht gefunden werden kann, durchsucht die Runtime alle potenziellen Ebenen von übergeordneten Assemblys nach der Kultur `es-MX`, bis sie eine passende Ressource findet.</span><span class="sxs-lookup"><span data-stu-id="1961a-193">If the parent assembly is not found, the runtime searches all potential levels of parent assemblies for the `es-MX` culture until it finds a corresponding resource.</span></span> <span data-ttu-id="1961a-194">Wenn keine Ressource gefunden werden kann, verwendet die Runtime die Ressource der Standardkultur.</span><span class="sxs-lookup"><span data-stu-id="1961a-194">If a resource isn't found, the runtime uses the resource for the default culture.</span></span>

<a name="Optimizing"></a>

#### <a name="optimizing-the-net-framework-resource-fallback-process"></a><span data-ttu-id="1961a-195">Optimieren des .NET Framework-Ressourcenfallback-Prozesses</span><span class="sxs-lookup"><span data-stu-id="1961a-195">Optimizing the .NET Framework Resource Fallback Process</span></span>

<span data-ttu-id="1961a-196">Unter folgenden Bedingungen können Sie den Prozess optimieren, mit dem die Runtime nach Ressourcen in den Satellitenassemblys sucht</span><span class="sxs-lookup"><span data-stu-id="1961a-196">Under the following conditions, you can optimize the process by which the runtime searches for resources in satellite assemblies</span></span>

- <span data-ttu-id="1961a-197">Satellitenassemblys werden am gleichen Ort wie die Codeassembly bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="1961a-197">Satellite assemblies are deployed in the same location as the code assembly.</span></span> <span data-ttu-id="1961a-198">Wenn die Codeassembly im [globalen Assemblycache](../app-domains/gac.md) installiert wird, werden gleichzeitig Satellitenassemblys im globalen Assemblycache installiert.</span><span class="sxs-lookup"><span data-stu-id="1961a-198">If the code assembly is installed in the [Global Assembly Cache](../app-domains/gac.md), satellite assemblies are also installed in the global assembly cache.</span></span> <span data-ttu-id="1961a-199">Wenn die Codeassembly in einem Verzeichnis installiert wird, werden Satellitenassemblys in kulturspezifischen Ordnern in diesem Verzeichnisses installiert.</span><span class="sxs-lookup"><span data-stu-id="1961a-199">If the code assembly is installed in a directory, satellite assemblies are installed in culture-specific folders of that directory.</span></span>

- <span data-ttu-id="1961a-200">Satellitenassemblys werden nicht bei Bedarf installiert.</span><span class="sxs-lookup"><span data-stu-id="1961a-200">Satellite assemblies are not installed on demand.</span></span>

- <span data-ttu-id="1961a-201">Der Anwendungscode behandelt nicht das Ereignis <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1961a-201">Application code does not handle the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event.</span></span>

<span data-ttu-id="1961a-202">Sie können die Überprüfung auf Satellitenassemblys durch das Integrieren des Elements [\<relativeBindForResources>](../configure-apps/file-schema/runtime/relativebindforresources-element.md) optimieren, und indem Sie dessen `enabled`-Attribut wie im folgendem Beispiel in der Anwendungskonfigurationsdatei auf `true` festlegen.</span><span class="sxs-lookup"><span data-stu-id="1961a-202">You optimize the probe for satellite assemblies by including the [\<relativeBindForResources>](../configure-apps/file-schema/runtime/relativebindforresources-element.md) element and setting its `enabled` attribute to `true` in the application configuration file, as shown in the following example.</span></span>

```xml
<configuration>
   <runtime>
      <relativeBindForResources enabled="true" />
   </runtime>
</configuration>
```

<span data-ttu-id="1961a-203">Die optimierte Überprüfung auf Satellitenassemblys ist ein Opt-In-Feature.</span><span class="sxs-lookup"><span data-stu-id="1961a-203">The optimized probe for satellite assemblies is an opt-in feature.</span></span> <span data-ttu-id="1961a-204">Das heißt, dass die Runtime die im Abschnitt [Der Ressourcenfallbackprozess](packaging-and-deploying-resources-in-desktop-apps.md#cpconpackagingdeployingresourcesanchor1) aufgeführten Schritte durchführt, es sei denn, das Element [\<relativeBindForResources>](../configure-apps/file-schema/runtime/relativebindforresources-element.md) ist in der Anwendungskonfigurationsdatei vorhanden, während dessen `enabled`-Attribut auf `true` festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="1961a-204">That is, the runtime follows the steps documented in [The Resource Fallback Process](packaging-and-deploying-resources-in-desktop-apps.md#cpconpackagingdeployingresourcesanchor1) unless the [\<relativeBindForResources>](../configure-apps/file-schema/runtime/relativebindforresources-element.md) element is present in the application's configuration file and its `enabled` attribute is set to `true`.</span></span> <span data-ttu-id="1961a-205">Wenn dies der Fall ist, wird der Suchprozess nach einer Satellitenassembly wie folgt angepasst:</span><span class="sxs-lookup"><span data-stu-id="1961a-205">If this is the case, the process of probing for a satellite assembly is modified as follows:</span></span>

- <span data-ttu-id="1961a-206">Die Runtime verwendet den Speicherort der übergeordneten Codeassembly, um nach der Satellitenassembly zu suchen.</span><span class="sxs-lookup"><span data-stu-id="1961a-206">The runtime uses the location of the parent code assembly to probe for the satellite assembly.</span></span> <span data-ttu-id="1961a-207">Wenn die übergeordnete Assembly im globalen Assemblycache installiert ist, durchsucht die Runtime den Cache, aber nicht das Anwendungsverzeichnis.</span><span class="sxs-lookup"><span data-stu-id="1961a-207">If the parent assembly is installed in the global assembly cache, the runtime probes in the cache but not in the application's directory.</span></span> <span data-ttu-id="1961a-208">Wenn die übergeordnete Assembly im Anwendungsverzeichnis installiert ist, durchsucht die Runtime das Anwendungsverzeichnis, aber nicht den globalen Assemblycache.</span><span class="sxs-lookup"><span data-stu-id="1961a-208">If the parent assembly is installed in an application directory, the runtime probes in the application directory but not in the global assembly cache.</span></span>

- <span data-ttu-id="1961a-209">Die Runtime fragt den Windows Installer nicht nach der On-Demand-Installation von Satellitenassemblys.</span><span class="sxs-lookup"><span data-stu-id="1961a-209">The runtime doesn't query the Windows Installer for on-demand installation of satellite assemblies.</span></span>

- <span data-ttu-id="1961a-210">Wenn die Suche nach einer bestimmten Ressourcenassembly fehlschlägt, löst die Runtime nicht das Ereignis <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> aus.</span><span class="sxs-lookup"><span data-stu-id="1961a-210">If the probe for a particular resource assembly fails, the runtime does not raise the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event.</span></span>

### <a name="net-core-resource-fallback-process"></a><span data-ttu-id="1961a-211">.NET Core-Ressourcenfallback-Prozess</span><span class="sxs-lookup"><span data-stu-id="1961a-211">.NET Core resource fallback process</span></span>

<span data-ttu-id="1961a-212">Der .NET Core-Ressourcenfallbackprozess besteht aus folgenden Schritten:</span><span class="sxs-lookup"><span data-stu-id="1961a-212">The .NET Core resource fallback process involves the following steps:</span></span>

1. <span data-ttu-id="1961a-213">Die Runtime versucht, eine Satellitenassembly für die angeforderte Kultur zu laden.</span><span class="sxs-lookup"><span data-stu-id="1961a-213">The runtime attempts to load a satellite assembly for the requested culture.</span></span>
     - <span data-ttu-id="1961a-214">Die Runtime prüft das Verzeichnis der aktuell ausgeführten Assembly auf ein Unterverzeichnis, das der angeforderten Kultur entspricht.</span><span class="sxs-lookup"><span data-stu-id="1961a-214">Checks the directory of the currently executing assembly for a subdirectory that matches the requested culture.</span></span> <span data-ttu-id="1961a-215">Wenn sie das Unterverzeichnis findet, durchsucht sie es nach einer gültigen Satellitenassembly für die angeforderte Kultur und lädt sie.</span><span class="sxs-lookup"><span data-stu-id="1961a-215">If it finds the subdirectory, it searches that subdirectory for a valid satellite assembly for the requested culture and loads it.</span></span>

       > [!NOTE]
       > <span data-ttu-id="1961a-216">Bei Betriebssystemen mit Groß-/Kleinschreibung berücksichtigenden Dateisystemen (d.h. Linux und macOS) wird bei der Suche nach dem Kulturnamen-Unterverzeichnis die Groß-/Kleinschreibung beachtet.</span><span class="sxs-lookup"><span data-stu-id="1961a-216">On operating systems with case-sensitive file systems (that is, Linux and macOS), the culture name subdirectory search is case-sensitive.</span></span> <span data-ttu-id="1961a-217">Der Name des Unterverzeichnisses muss der Groß-/Kleinschreibung von <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType> genau entsprechen (z. B. `es` oder `es-MX`).</span><span class="sxs-lookup"><span data-stu-id="1961a-217">The subdirectory name must exactly match the case of the <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType> (for example, `es` or `es-MX`).</span></span>

       > [!NOTE]
       > <span data-ttu-id="1961a-218">Wenn der Programmierer einen benutzerdefinierten Assemblyladekontext aus <xref:System.Runtime.Loader.AssemblyLoadContext> abgeleitet hat, ist die Situation kompliziert.</span><span class="sxs-lookup"><span data-stu-id="1961a-218">If the programmer has derived a custom assembly load context from <xref:System.Runtime.Loader.AssemblyLoadContext>, the situation is complicated.</span></span> <span data-ttu-id="1961a-219">Wenn die ausführende Assembly in den benutzerdefinierten Kontext geladen wurde, lädt die Runtime die Satellitenassembly in den benutzerdefinierten Kontext.</span><span class="sxs-lookup"><span data-stu-id="1961a-219">If the executing assembly was loaded into the custom context, the runtime loads the satellite assembly into the custom context.</span></span> <span data-ttu-id="1961a-220">Die Details sind nicht Gegenstand dieses Dokuments.</span><span class="sxs-lookup"><span data-stu-id="1961a-220">The details are out of scope for this document.</span></span> <span data-ttu-id="1961a-221">Siehe <xref:System.Runtime.Loader.AssemblyLoadContext>.</span><span class="sxs-lookup"><span data-stu-id="1961a-221">See  <xref:System.Runtime.Loader.AssemblyLoadContext>.</span></span>

     - <span data-ttu-id="1961a-222">Wenn keine Satellitenassembly gefunden wurde, löst <xref:System.Runtime.Loader.AssemblyLoadContext> das Ereignis <xref:System.Runtime.Loader.AssemblyLoadContext.Resolving?displayProperty=nameWithType> aus, um anzugeben, dass die Satellitenassembly nicht gefunden werden kann.</span><span class="sxs-lookup"><span data-stu-id="1961a-222">If a satellite assemble has not been found, the <xref:System.Runtime.Loader.AssemblyLoadContext> raises the <xref:System.Runtime.Loader.AssemblyLoadContext.Resolving?displayProperty=nameWithType> event to indicate that it is unable to find the satellite assembly.</span></span> <span data-ttu-id="1961a-223">Wenn Sie das Ereignis behandeln möchten, kann Ihr Ereignishandler einen Verweis auf die Satellitenassembly laden und zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="1961a-223">If you choose to handle the event, your event handler can load and return a reference to the satellite assembly.</span></span>
     - <span data-ttu-id="1961a-224">Wenn immer noch keine Satellitenassembly gefunden wurde, bewirkt AssemblyLoadContext, dass die AppDomain ein <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType>-Ereignis auslöst, um anzugeben, dass die Satellitenassembly nicht gefunden werden kann.</span><span class="sxs-lookup"><span data-stu-id="1961a-224">If a satellite assembly still has not been found, the AssemblyLoadContext causes the AppDomain to trigger an <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event to indicate that it is unable to find the satellite assembly.</span></span> <span data-ttu-id="1961a-225">Wenn Sie das Ereignis behandeln möchten, kann Ihr Ereignishandler einen Verweis auf die Satellitenassembly laden und zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="1961a-225">If you choose to handle the event, your event handler can load and return a reference to the satellite assembly.</span></span>

2. <span data-ttu-id="1961a-226">Wenn eine Satellitenassembly gefunden wurde, durchsucht die Runtime die Satellitenassembly nach der angeforderten Ressource.</span><span class="sxs-lookup"><span data-stu-id="1961a-226">If a satellite assembly is found, the runtime searches it for the requested resource.</span></span> <span data-ttu-id="1961a-227">Wenn sie die Ressource in der Assembly findet, verwendet sie diese.</span><span class="sxs-lookup"><span data-stu-id="1961a-227">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="1961a-228">Wenn sie die Ressource nicht findet, fährt sie mit der Suche fort.</span><span class="sxs-lookup"><span data-stu-id="1961a-228">If it doesn't find the resource, it continues the search.</span></span>

     > [!NOTE]
     > <span data-ttu-id="1961a-229">Um eine Ressource in der Satellitenassembly zu finden, sucht die Runtime nach der Ressourcendatei, die vom <xref:System.Resources.ResourceManager> für den aktuellen <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType> angefordert wird.</span><span class="sxs-lookup"><span data-stu-id="1961a-229">To find a resource within the satellite assembly, the runtime searches for the resource file requested by the <xref:System.Resources.ResourceManager> for the current <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType>.</span></span> <span data-ttu-id="1961a-230">In der Ressourcendatei sucht sie nach dem angeforderten Ressourcennamen.</span><span class="sxs-lookup"><span data-stu-id="1961a-230">Within the resource file it searches for the requested resource name.</span></span> <span data-ttu-id="1961a-231">Wenn keins von beiden gefunden wird, wird die Ressource als nicht gefunden behandelt.</span><span class="sxs-lookup"><span data-stu-id="1961a-231">If either is not found, the resource is treated as not found.</span></span>

3. <span data-ttu-id="1961a-232">Als Nächstes sucht die Runtime die Assemblys der übergeordneten Kultur über viele mögliche Ebenen hinweg, wobei jedes Mal die Schritte 1 und 2 wiederholt werden.</span><span class="sxs-lookup"><span data-stu-id="1961a-232">The runtime next searches the parent culture assemblies through many potential levels, each time repeating steps 1 & 2.</span></span>

     <span data-ttu-id="1961a-233">Die übergeordnete Kultur ist als zulässige Fallbackkultur definiert.</span><span class="sxs-lookup"><span data-stu-id="1961a-233">The parent culture is defined as an appropriate fallback culture.</span></span> <span data-ttu-id="1961a-234">Übergeordnete Elemente könne als Fallback genutzt werden, da da Bereitstellen einer Ressource dem Auslösen einer Ausnahme vorzuziehen ist.</span><span class="sxs-lookup"><span data-stu-id="1961a-234">Consider parents as fallback candidates, because providing any resource is preferable to throwing an exception.</span></span> <span data-ttu-id="1961a-235">Durch diesen Prozess könne Sie auch Ressourcen wiederverwenden.</span><span class="sxs-lookup"><span data-stu-id="1961a-235">This process also allows you to reuse resources.</span></span> <span data-ttu-id="1961a-236">Sie sollten auf der Ebene des übergeordneten Elements nur dann eine bestimmte Ressource verwenden, wenn die untergeordnete Kultur die angeforderte Ressource nicht lokalisieren muss.</span><span class="sxs-lookup"><span data-stu-id="1961a-236">You should include a particular resource at the parent level only if the child culture doesn't need to localize the requested resource.</span></span> <span data-ttu-id="1961a-237">Wenn Sie z.B. eine Satellitenassembly für `en` (neutrales Englisch), `en-GB` (britisches Englisch) und `en-US` (amerikanisches Englisch) bereitstellen, enthält der `en`-Satellit das gemeinsame Vokabular, und die Satelliten für `en-GB` und `en-US` enthalten nur Überschreibungen für Begriffe, die sich in den beiden Kulturen unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="1961a-237">For example, if you supply satellite assemblies for `en` (neutral English), `en-GB` (English as spoken in the United Kingdom), and `en-US` (English as spoken in the United States), the `en` satellite contains the common terminology, and the `en-GB` and `en-US` satellites provides overrides for only those terms that differ.</span></span>

     <span data-ttu-id="1961a-238">Jede Kultur hat nur ein übergeordnetes Element, das durch die <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType>-Eigenschaft definiert wird. Ein übergeordnetes Element kann jedoch wieder sein eigenes übergeordnetes Element haben.</span><span class="sxs-lookup"><span data-stu-id="1961a-238">Each culture has only one parent, which is defined by the <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType> property, but a parent might have its own parent.</span></span> <span data-ttu-id="1961a-239">Die Suche nach übergeordneten Kulturen ist beendet, wenn die <xref:System.Globalization.CultureInfo.Parent%2A>-Eigenschaft einer Kultur <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="1961a-239">The search for parent cultures stops when a culture's <xref:System.Globalization.CultureInfo.Parent%2A> property returns <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="1961a-240">Beim Ressourcenfallback wird die invariante Kultur nicht als übergeordnete Kultur oder als Kultur angesehen, die Ressourcen haben kann.</span><span class="sxs-lookup"><span data-stu-id="1961a-240">For resource fallback, the invariant culture is not considered a parent culture or a culture that can have resources.</span></span>

4. <span data-ttu-id="1961a-241">Wenn die ursprünglich angegebene Kultur und alle übergeordneten Elemente durchsucht wurden, und die Ressource immer noch nicht gefunden werden kann, wir die Ressource für die Standardkultur (Fallback) verwendet.</span><span class="sxs-lookup"><span data-stu-id="1961a-241">If the culture that was originally specified and all parents have been searched and the resource is still not found, the resource for the default (fallback) culture is used.</span></span> <span data-ttu-id="1961a-242">Für gewöhnlich werden die Ressourcen der Standardkultur in die Hauptassembly der Anwendung integriert.</span><span class="sxs-lookup"><span data-stu-id="1961a-242">Typically, the resources for the default culture are included in the main application assembly.</span></span> <span data-ttu-id="1961a-243">Sie könne aber einen Wert von <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty.nameWithType> für die <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A>-Eigenschaft angeben, um festzulegen, dass der endgültige Fallbackort für Ressourcen eine Satellitenassembly ist und nicht die Hauptassembly.</span><span class="sxs-lookup"><span data-stu-id="1961a-243">However, you can specify a value of <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty.nameWithType> for the <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A> property to indicate that the ultimate fallback location for resources is a satellite assembly rather than the main assembly.</span></span>

    > [!NOTE]
    > <span data-ttu-id="1961a-244">Die Standardressource ist die einzige Ressource, die mit der Hauptassembly kompiliert werden kann.</span><span class="sxs-lookup"><span data-stu-id="1961a-244">The default resource is the only resource that can be compiled with the main assembly.</span></span> <span data-ttu-id="1961a-245">Wenn Sie nicht mit dem <xref:System.Resources.NeutralResourcesLanguageAttribute>-Attribut eine Satellitenassembly angegeben haben, ist sie der endgültige Fallback (letztes übergeordnetes Element).</span><span class="sxs-lookup"><span data-stu-id="1961a-245">Unless you specify a satellite assembly by using the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute, it is the ultimate fallback (final parent).</span></span> <span data-ttu-id="1961a-246">Deshalb wird empfohlen, dass Sie immer ein Standardset an Ressourcen in Ihre Hauptassembly integrieren.</span><span class="sxs-lookup"><span data-stu-id="1961a-246">Therefore, we recommend that you always include a default set of resources in your main assembly.</span></span> <span data-ttu-id="1961a-247">So werden Ausnahmen verhindert.</span><span class="sxs-lookup"><span data-stu-id="1961a-247">This helps prevent exceptions from being thrown.</span></span> <span data-ttu-id="1961a-248">Durch das Integrieren einer Standardressourcendatei stellen Sie einen Fallback für alle Ressourcen zur Verfügung und stellen sicher, dass immer mindestens eine Ressource für den Benutzer verfügbar ist, auch wenn diese nicht kulturspezifisch ist.</span><span class="sxs-lookup"><span data-stu-id="1961a-248">By including a default resource file, you provide a fallback for all resources and ensure that at least one resource is always present for the user, even if it is not culturally specific.</span></span>

5. <span data-ttu-id="1961a-249">Wenn die Runtime keine Ressourcendatei für eine Standardkultur (Fallback) findet, wird die Ausnahme <xref:System.Resources.MissingManifestResourceException> oder <xref:System.Resources.MissingSatelliteAssemblyException> ausgelöst, um anzugeben, dass die Ressource nicht gefunden werden konnte.</span><span class="sxs-lookup"><span data-stu-id="1961a-249">Finally, if the runtime doesn't find a resource file for a default (fallback) culture, a <xref:System.Resources.MissingManifestResourceException> or <xref:System.Resources.MissingSatelliteAssemblyException> exception is thrown to indicate that the resource could not be found.</span></span> <span data-ttu-id="1961a-250">Wenn die Ressourcendatei gefunden wird, aber die angeforderte Ressource nicht vorhanden ist, gibt die Anforderung `null` zurück.</span><span class="sxs-lookup"><span data-stu-id="1961a-250">If the resource file is found but the requested resource is not present the request returns `null`.</span></span>

### <a name="ultimate-fallback-to-satellite-assembly"></a><span data-ttu-id="1961a-251">Endgültiger Fallback der Satellitenassembly</span><span class="sxs-lookup"><span data-stu-id="1961a-251">Ultimate Fallback to Satellite Assembly</span></span>

<span data-ttu-id="1961a-252">Sie können optional Ressourcen aus der Hauptassembly entfernen und angeben, dass die Runtime die endgültige Fallbackressource aus einer Satellitenassembly für eine bestimmte Kultur laden soll.</span><span class="sxs-lookup"><span data-stu-id="1961a-252">You can optionally remove resources from the main assembly and specify that the runtime should load the ultimate fallback resources from a satellite assembly that corresponds to a specific culture.</span></span> <span data-ttu-id="1961a-253">Um den Fallbackprozess zu steuern, können Sie den <xref:System.Resources.NeutralResourcesLanguageAttribute.%23ctor%28System.String%2CSystem.Resources.UltimateResourceFallbackLocation%29>-Konstruktor verwenden und einen Wert für den Parameter <xref:System.Resources.UltimateResourceFallbackLocation> angeben, der bestimmt, ob der Ressourcen-Manager die Fallbackressource aus der Hauptassembly oder aus einer Satellitenassembly extrahieren soll.</span><span class="sxs-lookup"><span data-stu-id="1961a-253">To control the fallback process, you use the <xref:System.Resources.NeutralResourcesLanguageAttribute.%23ctor%28System.String%2CSystem.Resources.UltimateResourceFallbackLocation%29> constructor and supply a value for the <xref:System.Resources.UltimateResourceFallbackLocation> parameter that specifies whether Resource Manager should extract the fallback resources from the main assembly or from a satellite assembly.</span></span>

<span data-ttu-id="1961a-254">Im folgenden .NET Framework-Beispiel wird das Attribut <xref:System.Resources.NeutralResourcesLanguageAttribute> dazu verwendet, die Fallbackressource einer Anwendung in einer Satellitenassembly für Französisch (`fr`) zu speichern.</span><span class="sxs-lookup"><span data-stu-id="1961a-254">The following .NET Framework example uses the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to store an application's fallback resources in a satellite assembly for the French (`fr`) language.</span></span> <span data-ttu-id="1961a-255">Im Beispiel werden zwei textbasierte Ressourcendateien verwendet, die eine einzelne Zeichenfolgenressource mit dem Namen `Greeting` definieren.</span><span class="sxs-lookup"><span data-stu-id="1961a-255">The example has two text-based resource files that define a single string resource named `Greeting`.</span></span> <span data-ttu-id="1961a-256">Die erste Datei, „resources.fr.txt“, enthält eine französische Sprachressource.</span><span class="sxs-lookup"><span data-stu-id="1961a-256">The first, resources.fr.txt, contains a French language resource.</span></span>

```text
Greeting=Bon jour!
```

<span data-ttu-id="1961a-257">Die zweite Datei, „resources.ru.txt“, enthält eine russische Sprachressource.</span><span class="sxs-lookup"><span data-stu-id="1961a-257">The second, resources,ru.txt, contains a Russian language resource.</span></span>

```text
Greeting=Добрый день
```

<span data-ttu-id="1961a-258">Diese beiden Dateien werden zu RESOURCES-Datei kompiliert, indem Sie das [Resource File Generator-Tool („resgen.exe“)](../tools/resgen-exe-resource-file-generator.md) in der Befehlszeile ausführen.</span><span class="sxs-lookup"><span data-stu-id="1961a-258">These two files are compiled to .resources files by running the [resource file generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) from the command line.</span></span> <span data-ttu-id="1961a-259">Der Befehl für die französische Sprachressource lautet:</span><span class="sxs-lookup"><span data-stu-id="1961a-259">For the French language resource, the command is:</span></span>

<span data-ttu-id="1961a-260">**resgen.exe resources.fr.txt**</span><span class="sxs-lookup"><span data-stu-id="1961a-260">**resgen.exe resources.fr.txt**</span></span>

<span data-ttu-id="1961a-261">Der Befehl für die russische Sprachressource lautet:</span><span class="sxs-lookup"><span data-stu-id="1961a-261">For the Russian language resource, the command is:</span></span>

<span data-ttu-id="1961a-262">**resgen.exe resources.ru.txt**</span><span class="sxs-lookup"><span data-stu-id="1961a-262">**resgen.exe resources.ru.txt**</span></span>

<span data-ttu-id="1961a-263">Die RESOURCES-Dateien werden in DLLs (Dynamic Link Libraries) eingebettet, indem Sie den [Assemblylinker („al.exe“)](../tools/al-exe-assembly-linker.md) in der Befehlszeile für die französische Sprachressource wie folgt ausführen:</span><span class="sxs-lookup"><span data-stu-id="1961a-263">The .resources files are embedded into dynamic link libraries by running [assembly linker (Al.exe)](../tools/al-exe-assembly-linker.md) from the command line for the French language resource as follows:</span></span>

<span data-ttu-id="1961a-264">**al /t:lib /embed:resources.fr.resources /culture:fr /out:fr\Example1.resources.dll**</span><span class="sxs-lookup"><span data-stu-id="1961a-264">**al /t:lib /embed:resources.fr.resources /culture:fr /out:fr\Example1.resources.dll**</span></span>

<span data-ttu-id="1961a-265">und für die russische Sprachressource:</span><span class="sxs-lookup"><span data-stu-id="1961a-265">and for the Russian language resource as follows:</span></span>

<span data-ttu-id="1961a-266">**al /t:lib /embed:resources.ru.resources /culture:ru /out:ru\Example1.resources.dll**</span><span class="sxs-lookup"><span data-stu-id="1961a-266">**al /t:lib /embed:resources.ru.resources /culture:ru /out:ru\Example1.resources.dll**</span></span>

<span data-ttu-id="1961a-267">Der Quellcode der Anwendung befindet sich in einer Datei mit dem Namen „example1.cs“ oder „example1.vb“.</span><span class="sxs-lookup"><span data-stu-id="1961a-267">The application source code resides in a file named Example1.cs or Example1.vb.</span></span> <span data-ttu-id="1961a-268">Er beinhaltet das Attribut <xref:System.Resources.NeutralResourcesLanguageAttribute>, um anzugeben, dass sich die Standardanwendungsressource im Unterverzeichnis „fr“ befindet.</span><span class="sxs-lookup"><span data-stu-id="1961a-268">It includes the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to indicate that the default application resource is in the fr subdirectory.</span></span> <span data-ttu-id="1961a-269">Er instantiiert den Ressourcen-Manager, ruft den Wert der `Greeting`-Ressource ab und zeigt ihn in der Konsole an.</span><span class="sxs-lookup"><span data-stu-id="1961a-269">It instantiates the Resource Manager, retrieves the value of the `Greeting` resource, and displays it to the console.</span></span>

[!code-csharp[Conceptual.Resources.Packaging#1](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.packaging/cs/example1.cs#1)]
[!code-vb[Conceptual.Resources.Packaging#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.packaging/vb/example1.vb#1)]

<span data-ttu-id="1961a-270">Dann können Sie den C#-Quellcode aus der Befehlszeile wie folgt kompilieren:</span><span class="sxs-lookup"><span data-stu-id="1961a-270">You can then compile C# source code from the command line as follows:</span></span>

```console
csc Example1.cs
```

<span data-ttu-id="1961a-271">Der Befehl für den Visual Basic-Compiler ist sehr ähnlich:</span><span class="sxs-lookup"><span data-stu-id="1961a-271">The command for the Visual Basic compiler is very similar:</span></span>

```console
vbc Example1.vb
```

<span data-ttu-id="1961a-272">Da keine Ressourcen in der Hauptassembly eingebettet sind, müssen Sie nicht mit dem `/resource`-Switch kompilieren.</span><span class="sxs-lookup"><span data-stu-id="1961a-272">Because there are no resources embedded in the main assembly, you do not have to compile by using the `/resource` switch.</span></span>

<span data-ttu-id="1961a-273">Wenn Sie das Beispiel in einem System durchführen, dessen Sprachen nicht Russisch ist, wird die folgende Ausgabe angezeigt:</span><span class="sxs-lookup"><span data-stu-id="1961a-273">When you run the example from a system whose language is anything other than Russian, it displays the following output:</span></span>

```output
Bon jour!
```

## <a name="suggested-packaging-alternative"></a><span data-ttu-id="1961a-274">Empfohlene Verpackalternative</span><span class="sxs-lookup"><span data-stu-id="1961a-274">Suggested Packaging Alternative</span></span>

<span data-ttu-id="1961a-275">Möglicherweise können Sie aus Zeit- oder Kostengründen keinen Satz an Ressourcen für jede Subkultur erstellen, die von Ihrer Anwendung unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="1961a-275">Time or budget constraints might prevent you from creating a set of resources for every subculture that your application supports.</span></span> <span data-ttu-id="1961a-276">Stattdessen können Sie eine einzelne Satellitenassembly für eine übergeordnete Kultur erstellen, die von allen verknüpften Subkulturen verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="1961a-276">Instead, you can create a single satellite assembly for a parent culture that all related subcultures can use.</span></span> <span data-ttu-id="1961a-277">Sie können z.B eine einzelne englische Satellitenassembly (en) bereitstellen, die von Benutzern abgerufen wird, die regionsspezifische englische Ressourcen angefordert haben, und eine einzelne deutsche Satellitenassembly (de) für Benutzer, die regionsspezifische deutsche Ressourcen angefordert haben.</span><span class="sxs-lookup"><span data-stu-id="1961a-277">For example, you can provide a single English satellite assembly (en) that is retrieved by users who request region-specific English resources, and a single German satellite assembly (de) for users who request region-specific German resources.</span></span> <span data-ttu-id="1961a-278">Für Anforderungen von z.B. Deutsch, wie es in Deutschland (de-DE), in Österreich (de-AT) oder der Schweiz (de-CH) gesprochen wird, wird auf die deutsche Satellitenassembly (de) ausgewichen.</span><span class="sxs-lookup"><span data-stu-id="1961a-278">For example, requests for German as spoken in Germany (de-DE), Austria (de-AT), and Switzerland (de-CH) would fall back to the German satellite assembly (de).</span></span> <span data-ttu-id="1961a-279">Die Standardressourcen sind die endgültigen Fallbacks und sollten deshalb die Ressourcen sein, die von der Mehrheit der Benutzer Ihrer Anwendung angefordert werden. Achten Sie also darauf, welche Ressourcen Sie dafür auswählen.</span><span class="sxs-lookup"><span data-stu-id="1961a-279">The default resources are the final fallback and therefore should be the resources that will be requested by the majority of your application's users, so choose these resources carefully.</span></span> <span data-ttu-id="1961a-280">Bei dieser Vorgehensweise werden Ressourcen bereitgestellt, die weniger kulturspezifisch sind, aber die Lokalisierungskosten Ihrer Anwendung deutlich verringern können.</span><span class="sxs-lookup"><span data-stu-id="1961a-280">This approach deploys resources that are less culturally specific, but can significantly reduce your application's localization costs.</span></span>

## <a name="see-also"></a><span data-ttu-id="1961a-281">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="1961a-281">See also</span></span>

- [<span data-ttu-id="1961a-282">Ressourcen in Desktop-Apps</span><span class="sxs-lookup"><span data-stu-id="1961a-282">Resources in Desktop Apps</span></span>](index.md)
- [<span data-ttu-id="1961a-283">Globaler Assemblycache</span><span class="sxs-lookup"><span data-stu-id="1961a-283">Global Assembly Cache</span></span>](../app-domains/gac.md)
- [<span data-ttu-id="1961a-284">Erstellen von Ressourcendateien</span><span class="sxs-lookup"><span data-stu-id="1961a-284">Creating Resource Files</span></span>](creating-resource-files-for-desktop-apps.md)
- [<span data-ttu-id="1961a-285">Erstellen von Satellitenassemblys</span><span class="sxs-lookup"><span data-stu-id="1961a-285">Creating Satellite Assemblies</span></span>](creating-satellite-assemblies-for-desktop-apps.md)
