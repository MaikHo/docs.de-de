---
title: Serialisierung (C#)
description: Bei der Serialisierung wird ein Objekt in einen Bytestream konvertiert, um das Objekt zu speichern oder in den Arbeitsspeicher, eine Datenbank oder eine Datei zu übertragen.
ms.date: 01/02/2020
ms.openlocfilehash: 29625648b19c97556c107997ef9ecd3f0f971cbf
ms.sourcegitcommit: 7499bdb428d63ed0e19e97f54d3d576c41598659
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 07/31/2020
ms.locfileid: "87455746"
---
# <a name="serialization-c"></a><span data-ttu-id="d3e61-103">Serialisierung (C#)</span><span class="sxs-lookup"><span data-stu-id="d3e61-103">Serialization (C#)</span></span>

<span data-ttu-id="d3e61-104">Serialisierung ist der Prozess der Konvertierung eines Objekts in einen Bytestream, um das Objekt zu speichern oder in den Arbeitsspeicher, eine Datenbank oder eine Datei zu übertragen.</span><span class="sxs-lookup"><span data-stu-id="d3e61-104">Serialization is the process of converting an object into a stream of bytes to store the object or transmit it to memory, a database, or a file.</span></span> <span data-ttu-id="d3e61-105">Hauptzweck ist es, den Zustand eines Objekts zu speichern, um es bei Bedarf neu erstellen zu können.</span><span class="sxs-lookup"><span data-stu-id="d3e61-105">Its main purpose is to save the state of an object in order to be able to recreate it when needed.</span></span> <span data-ttu-id="d3e61-106">Der umgekehrte Vorgang wird als Deserialisierung bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="d3e61-106">The reverse process is called deserialization.</span></span>

## <a name="how-serialization-works"></a><span data-ttu-id="d3e61-107">Funktionsweise der Serialisierung</span><span class="sxs-lookup"><span data-stu-id="d3e61-107">How serialization works</span></span>

<span data-ttu-id="d3e61-108">Diese Abbildung zeigt den gesamten Ablauf der Serialisierung:</span><span class="sxs-lookup"><span data-stu-id="d3e61-108">This illustration shows the overall process of serialization:</span></span>

![Grafik zur Serialisierung](./media/index/serialization-process.gif)

<span data-ttu-id="d3e61-110">Das Objekt wird in einem Stream serialisiert, der die Daten enthält.</span><span class="sxs-lookup"><span data-stu-id="d3e61-110">The object is serialized to a stream that carries the data.</span></span> <span data-ttu-id="d3e61-111">Der Stream kann auch Informationen zum Objekttyp enthalten, z. B. zur Version, Kultur und zum Assemblynamen.</span><span class="sxs-lookup"><span data-stu-id="d3e61-111">The stream may also have information about the object's type, such as its version, culture, and assembly name.</span></span> <span data-ttu-id="d3e61-112">Aus diesem Stream kann das Objekt in einer Datenbank, einer Datei oder einem Arbeitsspeicher gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="d3e61-112">From that stream, the object can be stored in a database, a file, or memory.</span></span>

### <a name="uses-for-serialization"></a><span data-ttu-id="d3e61-113">Verwendungszwecke der Serialisierung</span><span class="sxs-lookup"><span data-stu-id="d3e61-113">Uses for serialization</span></span>

<span data-ttu-id="d3e61-114">Mit der Serialisierung kann der Entwickler den Zustand eines Objekts speichern und das Objekt bei Bedarf neu erstellen. Die Serialisierung stellt sowohl Objektspeicher als auch Datenaustausch bereit.</span><span class="sxs-lookup"><span data-stu-id="d3e61-114">Serialization allows the developer to save the state of an object and re-create it as needed, providing storage of objects as well as data exchange.</span></span> <span data-ttu-id="d3e61-115">Mithilfe der Serialisierung kann ein Entwickler die folgenden Aktionen ausführen:</span><span class="sxs-lookup"><span data-stu-id="d3e61-115">Through serialization, a developer can perform actions such as:</span></span>

* <span data-ttu-id="d3e61-116">Senden des Objekts an eine Remoteanwendung mithilfe eines Webdiensts</span><span class="sxs-lookup"><span data-stu-id="d3e61-116">Sending the object to a remote application by using a web service</span></span>
* <span data-ttu-id="d3e61-117">Übergeben eines Objekts von einer Domäne zu einer anderen</span><span class="sxs-lookup"><span data-stu-id="d3e61-117">Passing an object from one domain to another</span></span>
* <span data-ttu-id="d3e61-118">Übergeben eines Objekts über eine Firewall als JSON- oder XML-Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="d3e61-118">Passing an object through a firewall as a JSON or XML string</span></span>
* <span data-ttu-id="d3e61-119">Verwalten von Sicherheits- und benutzerspezifischen Informationen über Anwendungen</span><span class="sxs-lookup"><span data-stu-id="d3e61-119">Maintaining security or user-specific information across applications</span></span>

## <a name="json-serialization"></a><span data-ttu-id="d3e61-120">JSON-Serialisierung</span><span class="sxs-lookup"><span data-stu-id="d3e61-120">JSON serialization</span></span>

<span data-ttu-id="d3e61-121">Der <xref:System.Text.Json>-Namespace enthält Klassen für die JSON-Serialisierung und -Deserialisierung (JavaScript Object Notation).</span><span class="sxs-lookup"><span data-stu-id="d3e61-121">The <xref:System.Text.Json> namespace contains classes for JavaScript Object Notation (JSON) serialization and deserialization.</span></span> <span data-ttu-id="d3e61-122">JSON ist ein offener Standard, der häufig zum Freigeben von Daten über das Internet verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="d3e61-122">JSON is an open standard that is commonly used for sharing data across the web.</span></span>

<span data-ttu-id="d3e61-123">Bei der JSON-Serialisierung werden die öffentlichen Eigenschaften eines Objekts in eine Zeichenfolge, ein Bytearray oder Stream serialisiert, die der [RFC 8259 JSON-Spezifikation](https://tools.ietf.org/html/rfc8259) entsprechen.</span><span class="sxs-lookup"><span data-stu-id="d3e61-123">JSON serialization serializes the public properties of an object into a string, byte array, or stream that conforms to [the RFC 8259 JSON specification](https://tools.ietf.org/html/rfc8259).</span></span> <span data-ttu-id="d3e61-124">Zur Steuerung der Art und Weise, wie <xref:System.Text.Json.JsonSerializer> eine Instanz der Klasse serialisiert oder deserialisiert:</span><span class="sxs-lookup"><span data-stu-id="d3e61-124">To control the way <xref:System.Text.Json.JsonSerializer> serializes or deserializes an instance of the class:</span></span>

* <span data-ttu-id="d3e61-125">Verwenden Sie ein <xref:System.Text.Json.JsonSerializerOptions>-Objekt.</span><span class="sxs-lookup"><span data-stu-id="d3e61-125">Use a <xref:System.Text.Json.JsonSerializerOptions> object</span></span>
* <span data-ttu-id="d3e61-126">Wenden Sie die Attribute des <xref:System.Text.Json.Serialization>-Namespaces auf Klassen oder Eigenschaften an.</span><span class="sxs-lookup"><span data-stu-id="d3e61-126">Apply attributes from the <xref:System.Text.Json.Serialization> namespace to classes or properties</span></span>
* <span data-ttu-id="d3e61-127">[Implementieren Sie benutzerdefinierte Konverter](../../../../standard/serialization/system-text-json-converters-how-to.md).</span><span class="sxs-lookup"><span data-stu-id="d3e61-127">[Implement custom converters](../../../../standard/serialization/system-text-json-converters-how-to.md)</span></span>

## <a name="binary-and-xml-serialization"></a><span data-ttu-id="d3e61-128">Binär- und XML-Serialisierung</span><span class="sxs-lookup"><span data-stu-id="d3e61-128">Binary and XML serialization</span></span>

<span data-ttu-id="d3e61-129">Der <xref:System.Runtime.Serialization>-Namespace enthält Klassen für die binäre Serialisierung und Deserialisierung sowie die XML-Serialisierung und -Deserialisierung.</span><span class="sxs-lookup"><span data-stu-id="d3e61-129">The <xref:System.Runtime.Serialization> namespace contains classes for binary and XML serialization and deserialization.</span></span>

<span data-ttu-id="d3e61-130">Die binäre Serialisierung verwendet zum Generieren einer kompakten Serialisierung die binäre Codierung für den Speicher oder für socketbasierte Netzwerkstreams.</span><span class="sxs-lookup"><span data-stu-id="d3e61-130">Binary serialization uses binary encoding to produce compact serialization for uses such as storage or socket-based network streams.</span></span> <span data-ttu-id="d3e61-131">Bei der binären Serialisierung werden alle Member einschließlich der schreibgeschützten Member serialisiert, und die Leistung wird verbessert.</span><span class="sxs-lookup"><span data-stu-id="d3e61-131">In binary serialization, all members, even members that are read-only, are serialized, and performance is enhanced.</span></span>

[!INCLUDE [binary-serialization-warning](~/includes/binary-serialization-warning.md)]

<span data-ttu-id="d3e61-132">Bei der XML-Serialisierung werden die öffentlichen Felder und Eigenschaften eines Objekts bzw. die Parameter und Rückgabewerte von Methoden in einen XML-Stream serialisiert, der einem bestimmtem XSD-Dokument (XML Schema Definition) entspricht.</span><span class="sxs-lookup"><span data-stu-id="d3e61-132">XML serialization serializes the public fields and properties of an object, or the parameters and return values of methods, into an XML stream that conforms to a specific XML Schema definition language (XSD) document.</span></span> <span data-ttu-id="d3e61-133">Die XML-Serialisierung führt zu stark typisierten Klassen mit öffentlichen Eigenschaften und Feldern, die in XML konvertiert werden.</span><span class="sxs-lookup"><span data-stu-id="d3e61-133">XML serialization results in strongly typed classes with public properties and fields that are converted to XML.</span></span> <span data-ttu-id="d3e61-134"><xref:System.Xml.Serialization> enthält Klassen zum Serialisieren und Deserialisieren in XML.</span><span class="sxs-lookup"><span data-stu-id="d3e61-134"><xref:System.Xml.Serialization> contains classes for serializing and deserializing XML.</span></span> <span data-ttu-id="d3e61-135">Sie wenden Attribute auf Klassen und Klassenmember an, um die Art der Serialisierung oder Deserialisierung einer Instanz der Klasse durch <xref:System.Xml.Serialization.XmlSerializer> zu steuern.</span><span class="sxs-lookup"><span data-stu-id="d3e61-135">You apply attributes to classes and class members to control the way the <xref:System.Xml.Serialization.XmlSerializer> serializes or deserializes an instance of the class.</span></span>

### <a name="making-an-object-serializable"></a><span data-ttu-id="d3e61-136">Aktivieren der Serialisierbarkeit eines Objekts</span><span class="sxs-lookup"><span data-stu-id="d3e61-136">Making an object serializable</span></span>

<span data-ttu-id="d3e61-137">Für die Binär- oder XML-Serialisierung benötigen Sie:</span><span class="sxs-lookup"><span data-stu-id="d3e61-137">For binary or XML serialization, you need:</span></span>

* <span data-ttu-id="d3e61-138">das zu serialisierende Objekt</span><span class="sxs-lookup"><span data-stu-id="d3e61-138">The object to be serialized</span></span>
* <span data-ttu-id="d3e61-139">einen Stream mit dem serialisierten Objekt</span><span class="sxs-lookup"><span data-stu-id="d3e61-139">A stream to contain the serialized object</span></span>
* <span data-ttu-id="d3e61-140">eine <xref:System.Runtime.Serialization.Formatter?displayProperty=fullName>-Instanz</span><span class="sxs-lookup"><span data-stu-id="d3e61-140">A <xref:System.Runtime.Serialization.Formatter?displayProperty=fullName> instance</span></span>

<span data-ttu-id="d3e61-141">Wenden Sie das Attribut <xref:System.SerializableAttribute> auf einen Typ an, um anzugeben, dass Instanzen des Typs serialisiert werden können.</span><span class="sxs-lookup"><span data-stu-id="d3e61-141">Apply the <xref:System.SerializableAttribute> attribute to a type to indicate that instances of the type can be serialized.</span></span> <span data-ttu-id="d3e61-142">Eine Ausnahme wird ausgelöst, wenn Sie versuchen zu serialisieren, aber der Typ nicht über das Attribut <xref:System.SerializableAttribute> verfügt.</span><span class="sxs-lookup"><span data-stu-id="d3e61-142">An  exception is thrown if you attempt to serialize but the type doesn't have the <xref:System.SerializableAttribute> attribute.</span></span>

<span data-ttu-id="d3e61-143">Wenden Sie das <xref:System.NonSerializedAttribute>-Attribut an, um zu verhindern, dass ein Feld serialisiert wird.</span><span class="sxs-lookup"><span data-stu-id="d3e61-143">To prevent a field from being serialized, apply the <xref:System.NonSerializedAttribute> attribute.</span></span> <span data-ttu-id="d3e61-144">Wenn ein Feld eines serialisierbaren Typs einen Zeiger, ein Handle oder eine andere Datenstruktur enthält, der/die für eine bestimmte Umgebung spezifisch ist, und das Feld in keiner anderen Umgebung sinnvoll wiederhergestellt werden kann, sollten Sie den Typ als nicht serialisierbar markieren.</span><span class="sxs-lookup"><span data-stu-id="d3e61-144">If a field of a serializable type contains a pointer, a handle, or some other data structure that is specific to a particular environment, and the field cannot be meaningfully reconstituted in a different environment, then you may want to make it nonserializable.</span></span>

<span data-ttu-id="d3e61-145">Wenn eine serialisierte Klasse Verweise auf Objekte anderer Klassen enthält, die mit <xref:System.SerializableAttribute> markiert sind, werden diese Objekte ebenfalls serialisiert.</span><span class="sxs-lookup"><span data-stu-id="d3e61-145">If a serialized class contains references to objects of other classes that are marked <xref:System.SerializableAttribute>, those objects will also be serialized.</span></span>

### <a name="basic-and-custom-serialization"></a><span data-ttu-id="d3e61-146">Einfache und benutzerdefinierte Serialisierung</span><span class="sxs-lookup"><span data-stu-id="d3e61-146">Basic and custom serialization</span></span>

<span data-ttu-id="d3e61-147">Die Binär- und XML-Serialisierung kann auf zwei Arten ausgeführt werden: einfach und benutzerdefiniert.</span><span class="sxs-lookup"><span data-stu-id="d3e61-147">Binary and XML serialization can be performed in two ways, basic and custom.</span></span>

<span data-ttu-id="d3e61-148">Die einfache Serialisierung verwendet .NET, um ein Objekt automatisch zu serialisieren.</span><span class="sxs-lookup"><span data-stu-id="d3e61-148">Basic serialization uses .NET to automatically serialize the object.</span></span> <span data-ttu-id="d3e61-149">Die einzige Voraussetzung ist, dass die Klasse über das <xref:System.SerializableAttribute>-Attribut verfügt.</span><span class="sxs-lookup"><span data-stu-id="d3e61-149">The only requirement is that the class has the <xref:System.SerializableAttribute> attribute applied.</span></span> <span data-ttu-id="d3e61-150">Das Attribut <xref:System.NonSerializedAttribute> kann verwendet werden, um die Serialisierung bestimmter Felder zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="d3e61-150">The <xref:System.NonSerializedAttribute> can be used to keep specific fields from being serialized.</span></span>

<span data-ttu-id="d3e61-151">Wenn Sie einfache Serialisierung verwenden, kann die Versionsverwaltung von Objekten Probleme bereiten.</span><span class="sxs-lookup"><span data-stu-id="d3e61-151">When you use basic serialization, the versioning of objects may create problems.</span></span> <span data-ttu-id="d3e61-152">Sie sollten benutzerdefinierte Serialisierung verwenden, wenn die Versionsverwaltung wichtig ist.</span><span class="sxs-lookup"><span data-stu-id="d3e61-152">You would use custom serialization when versioning issues are important.</span></span> <span data-ttu-id="d3e61-153">Die einfache Serialisierung ist die einfachste Möglichkeit zur Serialisierung, bietet allerdings nicht viel Steuerungsmöglichkeiten für den Prozess.</span><span class="sxs-lookup"><span data-stu-id="d3e61-153">Basic serialization is the easiest way to perform serialization, but it does not provide much control over the process.</span></span>

<span data-ttu-id="d3e61-154">Bei der benutzerdefinierten Serialisierung können Sie genau angeben, welche Objekte serialisiert werden und wie die Serialisierung erfolgt.</span><span class="sxs-lookup"><span data-stu-id="d3e61-154">In custom serialization, you can specify exactly which objects will be serialized and how it will be done.</span></span> <span data-ttu-id="d3e61-155">Die Klasse muss als <xref:System.SerializableAttribute> markiert und in die <xref:System.Runtime.Serialization.ISerializable>-Schnittstelle implementiert sein.</span><span class="sxs-lookup"><span data-stu-id="d3e61-155">The class must be marked <xref:System.SerializableAttribute> and implement the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span> <span data-ttu-id="d3e61-156">Wenn das Objekt auch benutzerdefiniert deserialisiert werden soll, verwenden Sie einen benutzerdefinierten Konstruktor.</span><span class="sxs-lookup"><span data-stu-id="d3e61-156">If you want your object to be deserialized in a custom manner as well, use a custom constructor.</span></span>

## <a name="designer-serialization"></a><span data-ttu-id="d3e61-157">Designerserialisierung</span><span class="sxs-lookup"><span data-stu-id="d3e61-157">Designer serialization</span></span>

<span data-ttu-id="d3e61-158">Die Designerserialisierung ist eine besondere Form der Serialisierung, die auch die Art der Objektpersistenz einbezieht, die mit Entwicklungstools verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="d3e61-158">Designer serialization is a special form of serialization that involves the kind of object persistence associated with development tools.</span></span> <span data-ttu-id="d3e61-159">Bei der Designerserialisierung handelt es sich um den Prozess der Konvertierung eines Objektdiagramms in eine Quelldatei, die später zum Wiederherstellen des Objektdiagramms verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="d3e61-159">Designer serialization is the process of converting an object graph into a source file that can later be used to recover the object graph.</span></span> <span data-ttu-id="d3e61-160">Eine Quelldatei kann Code-, Markup- oder sogar SQL-Tabelleninformationen enthalten.</span><span class="sxs-lookup"><span data-stu-id="d3e61-160">A source file can contain code, markup, or even SQL table information.</span></span>

## <a name="related-topics-and-examples"></a><a name="BKMK_RelatedTopics"></a> <span data-ttu-id="d3e61-161">Verwandte Themen und Beispiele</span><span class="sxs-lookup"><span data-stu-id="d3e61-161">Related Topics and Examples</span></span>  

<span data-ttu-id="d3e61-162">Die [System.Text.Json-Übersicht](../../../../standard/serialization/system-text-json-overview.md) verdeutlicht, wie Sie die `System.Text.Json`-Bibliothek erhalten.</span><span class="sxs-lookup"><span data-stu-id="d3e61-162">[System.Text.Json overview](../../../../standard/serialization/system-text-json-overview.md) Shows how to get the `System.Text.Json` library.</span></span>

<span data-ttu-id="d3e61-163">[Serialisieren und Deserialisieren von JSON-Daten in .NET](../../../../standard/serialization/system-text-json-how-to.md):</span><span class="sxs-lookup"><span data-stu-id="d3e61-163">[How to serialize and deserialize JSON in .NET](../../../../standard/serialization/system-text-json-how-to.md).</span></span>
<span data-ttu-id="d3e61-164">Veranschaulicht, wie Objektdaten in und aus JSON mithilfe der <xref:System.Text.Json.JsonSerializer>-Klasse gelesen und geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="d3e61-164">Shows how to read and write object data to and from JSON using the <xref:System.Text.Json.JsonSerializer> class.</span></span>

[<span data-ttu-id="d3e61-165">Exemplarische Vorgehensweise: Beibehalten eines Objekts in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d3e61-165">Walkthrough: Persisting an Object in Visual Studio (C#)</span></span>](walkthrough-persisting-an-object-in-visual-studio.md)  
<span data-ttu-id="d3e61-166">Veranschaulicht, wie die Serialisierung verwendet werden kann, um die Daten eines Objekts zwischen Instanzen beizubehalten. Dadurch können Sie Werte speichern und abrufen, wenn das Objekt das nächste Mal instanziiert wird.</span><span class="sxs-lookup"><span data-stu-id="d3e61-166">Demonstrates how serialization can be used to persist an object's data between instances, allowing you to store values and retrieve them the next time the object is instantiated.</span></span>

[<span data-ttu-id="d3e61-167">Lesen von Objektdaten aus einer XML-Datei (C#)</span><span class="sxs-lookup"><span data-stu-id="d3e61-167">How to read object data from an XML file (C#)</span></span>](how-to-read-object-data-from-an-xml-file.md)  
<span data-ttu-id="d3e61-168">Zeigt, wie Objektdaten gelesen werden, die zuvor mithilfe der <xref:System.Xml.Serialization.XmlSerializer>-Klasse in eine XML-Datei geschrieben wurden.</span><span class="sxs-lookup"><span data-stu-id="d3e61-168">Shows how to read object data that was previously written to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>

[<span data-ttu-id="d3e61-169">Schreiben von Objektdaten in eine XML-Datei (C#)</span><span class="sxs-lookup"><span data-stu-id="d3e61-169">How to write object data to an XML file (C#)</span></span>](how-to-write-object-data-to-an-xml-file.md)  
<span data-ttu-id="d3e61-170">Zeigt, wie ein Objekt aus einer Klasse mithilfe der <xref:System.Xml.Serialization.XmlSerializer>-Klasse in eine XML-Datei geschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="d3e61-170">Shows how to write the object from a class to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>
