---
title: Unterschiede zwischen Delegaten und Ereignissen
description: Informationen zum Unterschied zwischen Delegaten und Ereignissen und wann diese Features jeweils in .NET Core verwendet werden.
ms.date: 06/20/2016
ms.technology: csharp-fundamentals
ms.assetid: 0fdc8629-2fdb-4a7c-a433-5b9d04eaf911
ms.openlocfilehash: 193a9b0fe0e0c36deb6552449c92135057412225
ms.sourcegitcommit: b1f4756120deaecb8b554477bb040620f69a4209
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 09/03/2020
ms.locfileid: "89414668"
---
# <a name="distinguishing-delegates-and-events"></a><span data-ttu-id="ff632-103">Unterscheidung zwischen Delegaten und Ereignissen</span><span class="sxs-lookup"><span data-stu-id="ff632-103">Distinguishing Delegates and Events</span></span>

[<span data-ttu-id="ff632-104">Vorherige</span><span class="sxs-lookup"><span data-stu-id="ff632-104">Previous</span></span>](modern-events.md)

<span data-ttu-id="ff632-105">Entwickler, die die .NET Core-Plattform noch nicht kennen, haben oft mit der Entscheidung zwischen einem Entwurf auf der Grundlage von `delegates` und einem Entwurf auf der Grundlage von `events` zu kämpfen.</span><span class="sxs-lookup"><span data-stu-id="ff632-105">Developers that are new to the .NET Core platform often struggle when deciding between a design based on `delegates` and a design based on `events`.</span></span> <span data-ttu-id="ff632-106">Die Wahl zwischen Delegaten oder Ereignissen ist meist schwierig, da sich die beiden Sprachfeatures ähneln.</span><span class="sxs-lookup"><span data-stu-id="ff632-106">The choice of delegates or events is often difficult, because the two language features are similar.</span></span> <span data-ttu-id="ff632-107">Ereignisse werden sogar mithilfe der Sprachunterstützung für Delegaten erstellt.</span><span class="sxs-lookup"><span data-stu-id="ff632-107">Events are even built using the language support for delegates.</span></span>

<span data-ttu-id="ff632-108">Beide bieten ein Szenario mit später Bindung: Sie ermöglichen Szenarios, in denen eine Komponente durch Aufrufen einer Methode, die nur zur Laufzeit bekannt ist, kommuniziert.</span><span class="sxs-lookup"><span data-stu-id="ff632-108">They both offer a late binding scenario: they enable scenarios where a component communicates by calling a method that is only known at runtime.</span></span> <span data-ttu-id="ff632-109">Beide Versionen unterstützen einzelne und mehrerer Methoden des Abonnenten.</span><span class="sxs-lookup"><span data-stu-id="ff632-109">They both support single and multiple subscriber methods.</span></span> <span data-ttu-id="ff632-110">Möglicherweise finden Sie dies unter der Bezeichnung Singlecast- und Multicast-Unterstützung.</span><span class="sxs-lookup"><span data-stu-id="ff632-110">You may find this referred to as singlecast and multicast support.</span></span> <span data-ttu-id="ff632-111">Beide unterstützen eine ähnliche Syntax zum Hinzufügen und Entfernen von Handlern.</span><span class="sxs-lookup"><span data-stu-id="ff632-111">They both support similar syntax for adding and removing handlers.</span></span> <span data-ttu-id="ff632-112">Schließlich verwenden das Auslösen eines Ereignisses und das Aufrufen eines Delegaten genau die gleiche Methodensyntax zu Aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ff632-112">Finally, raising an event and calling a delegate use exactly the same method call syntax.</span></span> <span data-ttu-id="ff632-113">Auch unterstützen beide die gleiche `Invoke()`-Methodensyntax für die Verwendung mit dem `?.`-Operator.</span><span class="sxs-lookup"><span data-stu-id="ff632-113">They even both support the same `Invoke()` method syntax for use with the `?.` operator.</span></span>

<span data-ttu-id="ff632-114">Mit all diesen Ähnlichkeiten ist es einfach nur schwer zu bestimmen, wann welche Komponente benutzt werden soll.</span><span class="sxs-lookup"><span data-stu-id="ff632-114">With all those similarities, it is easy to have trouble determining when to use which.</span></span>

## <a name="listening-to-events-is-optional"></a><span data-ttu-id="ff632-115">Das Überwachen von Ereignissen ist optional</span><span class="sxs-lookup"><span data-stu-id="ff632-115">Listening to Events is Optional</span></span>

<span data-ttu-id="ff632-116">Der wichtigste Aspekt bei der Bestimmung, welche Sprachfunktion verwendet werden soll, ist die Frage, ob ein angefügter Abonnent vorhanden sein muss.</span><span class="sxs-lookup"><span data-stu-id="ff632-116">The most important consideration in determining which language feature to use is whether or not there must be an attached subscriber.</span></span> <span data-ttu-id="ff632-117">Wenn der Code den vom Abonnenten bereitgestellten Code aufrufen muss, sollten Sie einen delegatbasierten Entwurf werden, wenn ein Callback implementiert werden muss.</span><span class="sxs-lookup"><span data-stu-id="ff632-117">If your code must call the code supplied by the subscriber, you should use a design based on delegates when you need to implement callback.</span></span> <span data-ttu-id="ff632-118">Wenn Ihr Code all seine Arbeit ohne Aufruf von Abonnenten abschließen kann, sollten Sie einen Entwurf auf Grundlage von Ereignissen verwenden.</span><span class="sxs-lookup"><span data-stu-id="ff632-118">If your code can complete all its work without calling any subscribers, you should use a design based on events.</span></span>

<span data-ttu-id="ff632-119">Betrachten Sie die Beispiele, die während dieses Abschnitts erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="ff632-119">Consider the examples built during this section.</span></span> <span data-ttu-id="ff632-120">Dem Code, den Sie mithilfe von `List.Sort()` erstellt haben, muss eine Vergleichsfunktion gegeben werden, um die Elemente ordnungsgemäß zu sortieren.</span><span class="sxs-lookup"><span data-stu-id="ff632-120">The code you built using `List.Sort()` must be given a comparer function in order to properly sort the elements.</span></span> <span data-ttu-id="ff632-121">LINQ-Abfragen müssen mit Delegaten bereitgestellt werden, um zu bestimmen, welche Elemente zurückgeben werden sollen.</span><span class="sxs-lookup"><span data-stu-id="ff632-121">LINQ queries must be supplied with delegates in order to determine what elements to return.</span></span> <span data-ttu-id="ff632-122">Beide verwenden einen mit Delegaten erstellten Entwurf.</span><span class="sxs-lookup"><span data-stu-id="ff632-122">Both used a design built with delegates.</span></span>

<span data-ttu-id="ff632-123">Betrachten Sie das `Progress`-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="ff632-123">Consider the `Progress` event.</span></span> <span data-ttu-id="ff632-124">Es meldet den Status eines Tasks.</span><span class="sxs-lookup"><span data-stu-id="ff632-124">It reports progress on a task.</span></span>
<span data-ttu-id="ff632-125">Der Task wird fortgesetzt, unabhängig davon, ob alle Listener vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="ff632-125">The task continues to proceed whether or not there are any listeners.</span></span>
<span data-ttu-id="ff632-126">Der `FileSearcher` ist ein weiteres Beispiel.</span><span class="sxs-lookup"><span data-stu-id="ff632-126">The `FileSearcher` is another example.</span></span> <span data-ttu-id="ff632-127">Es würde weiterhin alle gesuchten Dateien suchen und finden, auch ohne angefügte Ereignisabonnenten.</span><span class="sxs-lookup"><span data-stu-id="ff632-127">It would still search and find all the files that were sought, even with no event subscribers attached.</span></span>
<span data-ttu-id="ff632-128">UX-Steuerelemente funktionieren weiterhin ordnungsgemäß, auch wenn keine Abonnenten die Ereignisse überwachen.</span><span class="sxs-lookup"><span data-stu-id="ff632-128">UX controls still work correctly, even when there are no subscribers listening to the events.</span></span> <span data-ttu-id="ff632-129">Beide verwenden Entwürfe auf der Grundlage von Ereignissen.</span><span class="sxs-lookup"><span data-stu-id="ff632-129">They both use designs based on events.</span></span>

## <a name="return-values-require-delegates"></a><span data-ttu-id="ff632-130">Rückgabewerte erfordern Delegaten</span><span class="sxs-lookup"><span data-stu-id="ff632-130">Return Values Require Delegates</span></span>

<span data-ttu-id="ff632-131">Ein weiterer Aspekt ist der Methodenprototyp, den Sie für die Delegatmethode haben sollten.</span><span class="sxs-lookup"><span data-stu-id="ff632-131">Another consideration is the method prototype you would want for your delegate method.</span></span> <span data-ttu-id="ff632-132">Wie Sie gesehen haben, verfügen die für Ereignisse verwendete Delegaten alle über einen void-Rückgabetyp.</span><span class="sxs-lookup"><span data-stu-id="ff632-132">As you've seen, the delegates used for events all have a void return type.</span></span> <span data-ttu-id="ff632-133">Sie haben auch gesehen, dass Ausdrücke vorhanden sind, um Ereignishandler zu erstellen, die Informationen durch Ändern der Eigenschaften des Ereignisargumentobjekts zurück an die Ereignisquellen geben.</span><span class="sxs-lookup"><span data-stu-id="ff632-133">You've also seen that there are idioms to create event handlers that do pass information back to event sources through modifying properties of the event argument object.</span></span> <span data-ttu-id="ff632-134">Während diese Ausdrücke funktionieren, sind sie nicht so natürlich wie die Rückgabe eines Werts aus einer Methode.</span><span class="sxs-lookup"><span data-stu-id="ff632-134">While these idioms do work, they are not as natural as returning a value from a method.</span></span>

<span data-ttu-id="ff632-135">Beachten Sie, dass häufig diese beiden Heuristiken vorhanden sein können: Wenn die Delegatmethode einen Wert zurückgibt, wirkt sich dies wahrscheinlich auf irgendeine Weise auf den Algorithmus aus.</span><span class="sxs-lookup"><span data-stu-id="ff632-135">Notice that these two heuristics may often both be present: If your delegate method returns a value, it will likely impact the algorithm in some way.</span></span>

## <a name="events-have-private-invocation"></a><span data-ttu-id="ff632-136">Privater Aufruf von Ereignissen</span><span class="sxs-lookup"><span data-stu-id="ff632-136">Events Have Private Invocation</span></span>

<span data-ttu-id="ff632-137">Klassen, in denen das Ereignis nicht enthalten ist, können nur Ereignislistener hinzufügen und entfernen. Nur die Klasse, die das Ereignis enthält, kann das Ereignis aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ff632-137">Classes other than the one in which an event is contained can only add and remove event listeners; only the class containing the event can invoke the event.</span></span> <span data-ttu-id="ff632-138">Ereignisse sind normalerweise öffentliche Klassenmember.</span><span class="sxs-lookup"><span data-stu-id="ff632-138">Events are typically public class members.</span></span>
<span data-ttu-id="ff632-139">Delegaten hingegen werden oft als Parameter übergeben und als private Klassenmember gespeichert, sofern sie überhaupt gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="ff632-139">By comparison, delegates are often passed as parameters and stored as private class members, if they are stored at all.</span></span>

## <a name="event-listeners-often-have-longer-lifetimes"></a><span data-ttu-id="ff632-140">Ereignislistener haben häufig eine längere Lebensdauer</span><span class="sxs-lookup"><span data-stu-id="ff632-140">Event Listeners Often Have Longer Lifetimes</span></span>

<span data-ttu-id="ff632-141">Dass Ereignislistener eine längere Lebensdauer besitzen, ist eine eher schlechtere Begründung.</span><span class="sxs-lookup"><span data-stu-id="ff632-141">That event listeners have longer lifetimes is a slightly weaker justification.</span></span> <span data-ttu-id="ff632-142">Jedoch können Sie feststellen, dass ereignisbasierte Entwürfe natürlicher sind, wenn die Ereignisquelle über einen langen Zeitraum Ereignisse auslösen wird.</span><span class="sxs-lookup"><span data-stu-id="ff632-142">However, you may find that event-based designs are more natural when the event source will be raising events over a long period of time.</span></span> <span data-ttu-id="ff632-143">Beispiele für ereignisbasierte Designs für Steuerelemente der Benutzeroberfläche können Sie in vielen Systemen finden.</span><span class="sxs-lookup"><span data-stu-id="ff632-143">You can see examples of event-based design for UX controls on many systems.</span></span> <span data-ttu-id="ff632-144">Sobald Sie ein Ereignis abonnieren, kann die Ereignisquelle Ereignisse während der gesamten Lebensdauer des Programms auslösen.</span><span class="sxs-lookup"><span data-stu-id="ff632-144">Once you subscribe to an event, the event source may raise events throughout the lifetime of the program.</span></span>
<span data-ttu-id="ff632-145">(Sie können das Abonnement von Ereignissen kündigen, wenn Sie sie nicht mehr benötigen.)</span><span class="sxs-lookup"><span data-stu-id="ff632-145">(You can unsubscribe from events when you no longer need them.)</span></span>

<span data-ttu-id="ff632-146">Vergleichen Sie das mit vielen delegatbasierten Entwürfen, bei denen ein Delegat als Argument an eine Methode verwendet wird, und der Delegat wird nicht verwendet, nachdem diese Methode zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="ff632-146">Contrast that with many delegate-based designs, where a delegate is used as an argument to a method, and the delegate is not used after that method returns.</span></span>

## <a name="evaluate-carefully"></a><span data-ttu-id="ff632-147">Sorgfältig bewerten</span><span class="sxs-lookup"><span data-stu-id="ff632-147">Evaluate Carefully</span></span>

<span data-ttu-id="ff632-148">Die oben genannten Aspekte sind keine verbindlichen Regeln.</span><span class="sxs-lookup"><span data-stu-id="ff632-148">The above considerations are not hard and fast rules.</span></span> <span data-ttu-id="ff632-149">Stattdessen stellen sie Leitfäden dar, mit denen Sie entscheiden können, welche Auswahl für Ihre spezielle Verwendung am besten geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="ff632-149">Instead, they represent guidance that can help you decide which choice is best for your particular usage.</span></span> <span data-ttu-id="ff632-150">Da sie sich ähneln, können Sie sogar beide als Prototyp nutzen, und überlegen, welche beim Arbeiten natürlicher wäre.</span><span class="sxs-lookup"><span data-stu-id="ff632-150">Because they are similar, you can even prototype both, and consider which would be more natural to work with.</span></span> <span data-ttu-id="ff632-151">Beide behandeln Szenarios mit später Bindung gut.</span><span class="sxs-lookup"><span data-stu-id="ff632-151">They both handle late binding scenarios well.</span></span> <span data-ttu-id="ff632-152">Verwenden Sie die, die Ihren Entwurf am besten kommuniziert.</span><span class="sxs-lookup"><span data-stu-id="ff632-152">Use the one that communicates your design the best.</span></span>
