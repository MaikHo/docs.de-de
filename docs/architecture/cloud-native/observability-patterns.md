---
title: Beobachtbarkeitsmuster
description: Observability-Muster für Native Cloud-Anwendungen
ms.date: 08/10/2020
ms.openlocfilehash: 2a6ef0e58f1e20667167042614768b099f640858
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/15/2020
ms.locfileid: "90539852"
---
# <a name="observability-patterns"></a><span data-ttu-id="13203-103">Beobachtbarkeitsmuster</span><span class="sxs-lookup"><span data-stu-id="13203-103">Observability patterns</span></span>

<span data-ttu-id="13203-104">Ebenso wie Muster entwickelt wurden, um das Layout von Code in Anwendungen zu unterstützen, gibt es auf zuverlässige Weise Muster für Betriebs Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="13203-104">Just as patterns have been developed to aid in the layout of code in applications, there are patterns for operating applications in a reliable way.</span></span> <span data-ttu-id="13203-105">Bei der Verwaltung von Anwendungen sind drei nützliche Muster aufgetreten: **Protokollierung**, **Überwachung**und **Warnungen**.</span><span class="sxs-lookup"><span data-stu-id="13203-105">Three useful patterns in maintaining applications have emerged: **logging**, **monitoring**, and **alerts**.</span></span>

## <a name="when-to-use-logging"></a><span data-ttu-id="13203-106">Verwendungszwecke der Protokollierung</span><span class="sxs-lookup"><span data-stu-id="13203-106">When to use logging</span></span>

<span data-ttu-id="13203-107">Unabhängig davon, wie sorgfältig wir sind, Verhalten sich Anwendungen fast immer auf unerwartete Weise in der Produktionsumgebung.</span><span class="sxs-lookup"><span data-stu-id="13203-107">No matter how careful we are, applications almost always behave in unexpected ways in production.</span></span> <span data-ttu-id="13203-108">Wenn Benutzer Probleme mit einer Anwendung melden, ist es hilfreich, wenn Sie sehen können, was mit der APP passiert ist, als das Problem aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="13203-108">When users report problems with an application, it's useful to be able to see what was going on with the app when the problem occurred.</span></span> <span data-ttu-id="13203-109">Eine der bewährten Methoden zum Erfassen von Informationen darüber, was eine Anwendung während der Ausführung tut, besteht darin, die Anwendung zu schreiben, was Sie tut.</span><span class="sxs-lookup"><span data-stu-id="13203-109">One of the most tried and true ways of capturing information about what an application is doing while it's running is to have the application write down what it's doing.</span></span> <span data-ttu-id="13203-110">Dieser Prozess wird als Protokollierung bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="13203-110">This process is known as logging.</span></span> <span data-ttu-id="13203-111">Immer wenn Ausfälle oder Probleme in der Produktion auftreten, sollte das Ziel darin bestehen, die Bedingungen, unter denen die Ausfälle aufgetreten sind, in einer nicht-Produktionsumgebung zu reproduzieren.</span><span class="sxs-lookup"><span data-stu-id="13203-111">Anytime failures or problems occur in production, the goal should be to reproduce the conditions under which the failures occurred, in a non-production environment.</span></span> <span data-ttu-id="13203-112">Eine gute Protokollierung ist eine Roadmap für Entwickler, die Sie befolgen können, um Probleme in einer Umgebung zu duplizieren, die Sie testen und experimentieren können.</span><span class="sxs-lookup"><span data-stu-id="13203-112">Having good logging in place provides a roadmap for developers to follow in order to duplicate problems in an environment that can be tested and experimented with.</span></span>

### <a name="challenges-when-logging-with-cloud-native-applications"></a><span data-ttu-id="13203-113">Herausforderungen bei der Protokollierung mit nativen cloudanwendungen</span><span class="sxs-lookup"><span data-stu-id="13203-113">Challenges when logging with cloud-native applications</span></span>

<span data-ttu-id="13203-114">In herkömmlichen Anwendungen werden Protokolldateien in der Regel auf dem lokalen Computer gespeichert.</span><span class="sxs-lookup"><span data-stu-id="13203-114">In traditional applications, log files are typically stored on the local machine.</span></span> <span data-ttu-id="13203-115">Tatsächlich gibt es für UNIX-ähnliche Betriebssysteme eine Ordnerstruktur, die für alle Protokolle definiert ist, in der Regel unter `/var/log` .</span><span class="sxs-lookup"><span data-stu-id="13203-115">In fact, on Unix-like operating systems, there's a folder structure defined to hold any logs, typically under `/var/log`.</span></span>

<span data-ttu-id="13203-116">![Protokollierung in einer Datei in einer monolithischen app. ](./media/single-monolith-logging.png)
 **Abbildung 7-1**.</span><span class="sxs-lookup"><span data-stu-id="13203-116">![Logging to a file in a monolithic app.](./media/single-monolith-logging.png)
**Figure 7-1**.</span></span> <span data-ttu-id="13203-117">Protokollierung in einer Datei in einer monolithischen app.</span><span class="sxs-lookup"><span data-stu-id="13203-117">Logging to a file in a monolithic app.</span></span>

<span data-ttu-id="13203-118">Die Nützlichkeit der Protokollierung in einer Flatfile auf einem einzelnen Computer wird in einer cloudumgebung erheblich reduziert.</span><span class="sxs-lookup"><span data-stu-id="13203-118">The usefulness of logging to a flat file on a single machine is vastly reduced in a cloud environment.</span></span> <span data-ttu-id="13203-119">Anwendungen, die Protokolle erstellen, haben möglicherweise keinen Zugriff auf den lokalen Datenträger, oder der lokale Datenträger ist möglicherweise sehr vorübergehend, da Container durch physische Computer gemischt werden.</span><span class="sxs-lookup"><span data-stu-id="13203-119">Applications producing logs may not have access to the local disk or the local disk may be highly transient as containers are shuffled around physical machines.</span></span> <span data-ttu-id="13203-120">Selbst das einfache hochskalieren monolithischer Anwendungen über mehrere Knoten hinweg kann es schwierig machen, die geeignete dateibasierte Protokolldatei zu finden.</span><span class="sxs-lookup"><span data-stu-id="13203-120">Even simple scaling up of monolithic applications across multiple nodes can make it challenging to locate the appropriate file-based log file.</span></span>

<span data-ttu-id="13203-121">![Protokollieren von Dateien in einer skalierten monolithischen app. ](./media/multiple-node-monolith-logging.png)
 **Abbildung 7-2**.</span><span class="sxs-lookup"><span data-stu-id="13203-121">![Logging to files in a scaled monolithic app.](./media/multiple-node-monolith-logging.png)
**Figure 7-2**.</span></span> <span data-ttu-id="13203-122">Protokollieren von Dateien in einer skalierten monolithischen app.</span><span class="sxs-lookup"><span data-stu-id="13203-122">Logging to files in a scaled monolithic app.</span></span>

<span data-ttu-id="13203-123">Cloud native-Anwendungen, die mit einer microservicearchitektur entwickelt wurden, stellen auch einige Herausforderungen bei dateibasierten Protokollierungen dar.</span><span class="sxs-lookup"><span data-stu-id="13203-123">Cloud-native applications developed using a microservices architecture also pose some challenges for file-based loggers.</span></span> <span data-ttu-id="13203-124">Benutzer Anforderungen können sich nun über mehrere Dienste erstrecken, die auf unterschiedlichen Computern ausgeführt werden und Server lose Funktionen enthalten können, die keinen Zugriff auf ein lokales Dateisystem haben.</span><span class="sxs-lookup"><span data-stu-id="13203-124">User requests may now span multiple services that are run on different machines and may include serverless functions with no access to a local file system at all.</span></span> <span data-ttu-id="13203-125">Es wäre sehr schwierig, die Protokolle von einem Benutzer oder einer Sitzung über diese vielen Dienste und Computer hinweg zu korrelieren.</span><span class="sxs-lookup"><span data-stu-id="13203-125">It would be very challenging to correlate the logs from a user or a session across these many services and machines.</span></span>

<span data-ttu-id="13203-126">![Protokollieren von lokalen Dateien in einer-Webdienst-app. ](./media/local-log-file-per-service.png)
 **Abbildung 7-3**.</span><span class="sxs-lookup"><span data-stu-id="13203-126">![Logging to local files in a microservices app.](./media/local-log-file-per-service.png)
**Figure 7-3**.</span></span> <span data-ttu-id="13203-127">Protokollieren von lokalen Dateien in einer-Webdienst-app.</span><span class="sxs-lookup"><span data-stu-id="13203-127">Logging to local files in a microservices app.</span></span>

<span data-ttu-id="13203-128">Zum Schluss ist die Anzahl der Benutzer in einigen cloudbasierten Anwendungen hoch.</span><span class="sxs-lookup"><span data-stu-id="13203-128">Finally, the number of users in some cloud-native applications is high.</span></span> <span data-ttu-id="13203-129">Stellen Sie sich vor, dass jeder Benutzer bei der Anmeldung bei einer Anwendung hundert Zeilen mit Protokollnachrichten generiert.</span><span class="sxs-lookup"><span data-stu-id="13203-129">Imagine that each user generates a hundred lines of log messages when they log into an application.</span></span> <span data-ttu-id="13203-130">In der Isolation ist das zwar verwaltbar, aber es werden mehr als 100.000 Benutzer multipliziert, und die Menge der Protokolle wird so groß, dass spezialisierte Tools zur Unterstützung der effektiven Verwendung der Protokolle benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="13203-130">In isolation, that is manageable, but multiply that over 100,000 users and the volume of logs becomes large enough that specialized tools are needed to support effective use of the logs.</span></span>

### <a name="logging-in-cloud-native-applications"></a><span data-ttu-id="13203-131">Protokollierung in Cloud-native Anwendungen</span><span class="sxs-lookup"><span data-stu-id="13203-131">Logging in cloud-native applications</span></span>

<span data-ttu-id="13203-132">Jede Programmiersprache verfügt über Tools, die das Schreiben von Protokollen erlauben, und in der Regel ist der Aufwand für das Schreiben dieser Protokolle gering.</span><span class="sxs-lookup"><span data-stu-id="13203-132">Every programming language has tooling that permits writing logs, and typically the overhead for writing these logs is low.</span></span> <span data-ttu-id="13203-133">Viele der Protokollierungs Bibliotheken ermöglichen das Protokollieren verschiedener Arten von criticalities, die zur Laufzeit optimiert werden können.</span><span class="sxs-lookup"><span data-stu-id="13203-133">Many of the logging libraries provide logging different kinds of criticalities, which can be tuned at run time.</span></span> <span data-ttu-id="13203-134">Die [Bibliothek "serilog](https://serilog.net/) " ist beispielsweise eine beliebte strukturierte Protokollierungs Bibliothek für .net, die die folgenden Protokolliergrade bereitstellt:</span><span class="sxs-lookup"><span data-stu-id="13203-134">For instance, the [Serilog library](https://serilog.net/) is a popular structured logging library for .NET that provides the following logging levels:</span></span>

* <span data-ttu-id="13203-135">Ausführlich</span><span class="sxs-lookup"><span data-stu-id="13203-135">Verbose</span></span>
* <span data-ttu-id="13203-136">Debuggen</span><span class="sxs-lookup"><span data-stu-id="13203-136">Debug</span></span>
* <span data-ttu-id="13203-137">Information</span><span class="sxs-lookup"><span data-stu-id="13203-137">Information</span></span>
* <span data-ttu-id="13203-138">Warnung</span><span class="sxs-lookup"><span data-stu-id="13203-138">Warning</span></span>
* <span data-ttu-id="13203-139">Fehler</span><span class="sxs-lookup"><span data-stu-id="13203-139">Error</span></span>
* <span data-ttu-id="13203-140">FAT</span><span class="sxs-lookup"><span data-stu-id="13203-140">Fatal</span></span>

<span data-ttu-id="13203-141">Diese verschiedenen Protokoll Ebenen bieten Granularität bei der Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="13203-141">These different log levels provide granularity in logging.</span></span> <span data-ttu-id="13203-142">Wenn die Anwendung in der Produktionsumgebung ordnungsgemäß funktioniert, kann Sie so konfiguriert werden, dass nur wichtige Nachrichten protokolliert werden.</span><span class="sxs-lookup"><span data-stu-id="13203-142">When the application is functioning properly in production, it may be configured to only log important messages.</span></span> <span data-ttu-id="13203-143">Wenn sich die Anwendung nicht verhält, kann die Protokollebene erweitert werden, sodass ausführlichere Protokolle gesammelt werden.</span><span class="sxs-lookup"><span data-stu-id="13203-143">When the application is misbehaving, then the log level can be increased so more verbose logs are gathered.</span></span> <span data-ttu-id="13203-144">Dadurch wird die Leistung gegenüber dem einfachen Debuggen ausgeglichen.</span><span class="sxs-lookup"><span data-stu-id="13203-144">This balances performance against ease of debugging.</span></span>

<span data-ttu-id="13203-145">Dank der hohen Leistung der Protokollierungs Tools und der Anpassbarkeit der Ausführlichkeit sollten Entwickler sich häufig anmelden.</span><span class="sxs-lookup"><span data-stu-id="13203-145">The high performance of logging tools and the tunability of verbosity should encourage developers to log frequently.</span></span> <span data-ttu-id="13203-146">Viele bevorzugen ein Muster für das Protokollieren des Eintrags und Beendigungs der einzelnen Methoden.</span><span class="sxs-lookup"><span data-stu-id="13203-146">Many favor a pattern of logging the entry and exit of each method.</span></span> <span data-ttu-id="13203-147">Diese Vorgehensweise mag wie bei Overkill klingen, aber es ist selten, dass Entwickler weniger protokollieren möchten.</span><span class="sxs-lookup"><span data-stu-id="13203-147">This approach may sound like overkill, but it's infrequent that developers will wish for less logging.</span></span> <span data-ttu-id="13203-148">Tatsächlich ist es nicht ungewöhnlich, bereit Stellungen ausschließlich für das Hinzufügen von Protokollierung um eine problematische Methode auszuführen.</span><span class="sxs-lookup"><span data-stu-id="13203-148">In fact, it's not uncommon to perform deployments for the sole purpose of adding logging around a problematic method.</span></span> <span data-ttu-id="13203-149">Irren Sie sich auf der Seite der zu großen Protokollierung, nicht auf zu wenig.</span><span class="sxs-lookup"><span data-stu-id="13203-149">Err on the side of too much logging and not on too little.</span></span> <span data-ttu-id="13203-150">Einige Tools können verwendet werden, um diese Art der Protokollierung automatisch bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="13203-150">Some tools can be used to automatically provide this kind of logging.</span></span>

<span data-ttu-id="13203-151">Aufgrund der Herausforderungen im Zusammenhang mit der Verwendung Datei basierter Protokolle in Cloud-Native apps werden zentralisierte Protokolle bevorzugt.</span><span class="sxs-lookup"><span data-stu-id="13203-151">Because of the challenges associated with using file-based logs in cloud-native apps, centralized logs are preferred.</span></span> <span data-ttu-id="13203-152">Protokolle werden von den Anwendungen gesammelt und an eine zentrale Protokollierungs Anwendung geliefert, die die Protokolle indiziert und speichert.</span><span class="sxs-lookup"><span data-stu-id="13203-152">Logs are collected by the applications and shipped to a central logging application which indexes and stores the logs.</span></span> <span data-ttu-id="13203-153">Diese System Klasse kann täglich zehn Gigabyte an Protokollen erfassen.</span><span class="sxs-lookup"><span data-stu-id="13203-153">This class of system can ingest tens of gigabytes of logs every day.</span></span>

<span data-ttu-id="13203-154">Es ist auch hilfreich, einige Standardverfahren zu befolgen, wenn Sie die Protokollierung entwickeln, die viele Dienste umfasst.</span><span class="sxs-lookup"><span data-stu-id="13203-154">It's also helpful to follow some standard practices when building logging that spans many services.</span></span> <span data-ttu-id="13203-155">Wenn Sie beispielsweise eine [Korrelations-ID](https://blog.rapid7.com/2016/12/23/the-value-of-correlation-ids/) zu Beginn einer langen Interaktion erstellen und diese dann in jeder Nachricht protokollieren, die mit dieser Interaktion verknüpft ist, ist es einfacher, nach allen zugehörigen Nachrichten zu suchen.</span><span class="sxs-lookup"><span data-stu-id="13203-155">For instance, generating a [correlation ID](https://blog.rapid7.com/2016/12/23/the-value-of-correlation-ids/) at the start of a lengthy interaction, and then logging it in each message that is related to that interaction, makes it easier to search for all related messages.</span></span> <span data-ttu-id="13203-156">Sie müssen nur eine einzelne Nachricht suchen und die Korrelations-ID extrahieren, um alle zugehörigen Nachrichten zu finden.</span><span class="sxs-lookup"><span data-stu-id="13203-156">One need only find a single message and extract the correlation ID to find all the related messages.</span></span> <span data-ttu-id="13203-157">Ein weiteres Beispiel ist die Sicherstellung, dass das Protokoll Format für jeden Dienst identisch ist, und zwar ungeachtet der verwendeten Sprache oder Protokollierungs Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="13203-157">Another example is ensuring that the log format is the same for every service, whatever the language or logging library it uses.</span></span> <span data-ttu-id="13203-158">Diese Standardisierung erleichtert das Lesen von Protokollen.</span><span class="sxs-lookup"><span data-stu-id="13203-158">This standardization makes reading logs much easier.</span></span> <span data-ttu-id="13203-159">In Abbildung 7-4 wird veranschaulicht, wie eine microservicesarchitektur die zentralisierte Protokollierung als Teil des Workflows nutzen kann.</span><span class="sxs-lookup"><span data-stu-id="13203-159">Figure 7-4 demonstrates how a microservices architecture can leverage centralized logging as part of its workflow.</span></span>

<span data-ttu-id="13203-160">![Protokolle aus verschiedenen Quellen werden in einen zentralisierten Protokoll Speicher aufgenommen. ](./media/centralized-logging.png)
 **Abbildung 7-4**.</span><span class="sxs-lookup"><span data-stu-id="13203-160">![Logs from various sources are ingested into a centralized log store.](./media/centralized-logging.png)
**Figure 7-4**.</span></span> <span data-ttu-id="13203-161">Protokolle aus verschiedenen Quellen werden in einen zentralisierten Protokoll Speicher aufgenommen.</span><span class="sxs-lookup"><span data-stu-id="13203-161">Logs from various sources are ingested into a centralized log store.</span></span>

## <a name="challenges-with-detecting-and-responding-to-potential-app-health-issues"></a><span data-ttu-id="13203-162">Herausforderungen beim erkennen und reagieren auf potenzielle Probleme mit der APP-Integrität</span><span class="sxs-lookup"><span data-stu-id="13203-162">Challenges with detecting and responding to potential app health issues</span></span>

<span data-ttu-id="13203-163">Einige Anwendungen sind nicht Unternehmens kritisch.</span><span class="sxs-lookup"><span data-stu-id="13203-163">Some applications aren't mission critical.</span></span> <span data-ttu-id="13203-164">Vielleicht werden Sie nur intern verwendet, und wenn ein Problem auftritt, kann der Benutzer das verantwortliche Team kontaktieren, und die Anwendung kann neu gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="13203-164">Maybe they're only used internally, and when a problem occurs, the user can contact the team responsible and the application can be restarted.</span></span> <span data-ttu-id="13203-165">Kunden haben jedoch häufig höhere Erwartungen an die Anwendungen, die Sie nutzen.</span><span class="sxs-lookup"><span data-stu-id="13203-165">However, customers often have higher expectations for the applications they consume.</span></span> <span data-ttu-id="13203-166">Sie sollten wissen, wann Probleme mit Ihrer Anwendung auftreten, *bevor* Benutzer dies tun, oder bevor Sie von Benutzern benachrichtigt werden.</span><span class="sxs-lookup"><span data-stu-id="13203-166">You should know when problems occur with your application *before* users do, or before users notify you.</span></span> <span data-ttu-id="13203-167">Andernfalls können Sie über ein Problem informiert sein, wenn Sie eine wütende Überschwemmung von Social Media-Beiträgen erkennen, die Ihre Anwendung oder sogar Ihre Organisation verfällt.</span><span class="sxs-lookup"><span data-stu-id="13203-167">Otherwise, the first you know about a problem may be when you notice an angry deluge of social media posts deriding your application or even your organization.</span></span>

<span data-ttu-id="13203-168">Einige Szenarien, die Sie möglicherweise berücksichtigen müssen, sind:</span><span class="sxs-lookup"><span data-stu-id="13203-168">Some scenarios you may need to consider include:</span></span>

- <span data-ttu-id="13203-169">Ein Dienst in der Anwendung führt zu einem Fehler und Neustarten, was zu zeitweiligen langsamen Antworten führt.</span><span class="sxs-lookup"><span data-stu-id="13203-169">One service in your application keeps failing and restarting, resulting in intermittent slow responses.</span></span>
- <span data-ttu-id="13203-170">Zu manchen tageszeiten ist die Reaktionszeit Ihrer Anwendung langsam.</span><span class="sxs-lookup"><span data-stu-id="13203-170">At some times of the day, your application's response time is slow.</span></span>
- <span data-ttu-id="13203-171">Nach einer kürzlich Bereitstellung wurde die Last in der Datenbank verdreifacht.</span><span class="sxs-lookup"><span data-stu-id="13203-171">After a recent deployment, load on the database has tripled.</span></span>

<span data-ttu-id="13203-172">Wenn die Überwachung ordnungsgemäß implementiert ist, können Sie über die Bedingungen informiert werden, die zu Problemen führen. Dadurch können Sie zugrunde liegende Bedingungen beheben, bevor Sie zu erheblichen Auswirkungen auf das Benutzer Ergebnis führen.</span><span class="sxs-lookup"><span data-stu-id="13203-172">Implemented properly, monitoring can let you know about conditions that will lead to problems, letting you address underlying conditions before they result in any significant user impact.</span></span>

### <a name="monitoring-cloud-native-apps"></a><span data-ttu-id="13203-173">Überwachen von Cloud-Native apps</span><span class="sxs-lookup"><span data-stu-id="13203-173">Monitoring cloud-native apps</span></span>

<span data-ttu-id="13203-174">Einige zentralisierte Protokollierungs Systeme erfordern eine zusätzliche Rolle beim Sammeln von Telemetriedaten außerhalb von reinen Protokollen.</span><span class="sxs-lookup"><span data-stu-id="13203-174">Some centralized logging systems take on an additional role of collecting telemetry outside of pure logs.</span></span> <span data-ttu-id="13203-175">Sie können Metriken erfassen, wie z. b. Zeit zum Ausführen einer Datenbankabfrage, durchschnittliche Reaktionszeit eines Webservers und sogar CPU-Auslastung durch Mittelwerte und Arbeitsspeicher Auslastung, wie vom Betriebssystem gemeldet.</span><span class="sxs-lookup"><span data-stu-id="13203-175">They can collect metrics, such as time to run a database query, average response time from a web server, and even CPU load averages and memory pressure as reported by the operating system.</span></span> <span data-ttu-id="13203-176">In Verbindung mit den Protokollen können diese Systeme eine ganzheitliche Ansicht der Integrität der Knoten im System und der Anwendung als Ganzes bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="13203-176">In conjunction with the logs, these systems can provide a holistic view of the health of nodes in the system and the application as a whole.</span></span>

<span data-ttu-id="13203-177">Die Funktionen für die metrikerfassung der Überwachungstools können auch manuell in der Anwendung zusammengeführt werden.</span><span class="sxs-lookup"><span data-stu-id="13203-177">The metric-gathering capabilities of the monitoring tools can also be fed manually from within the application.</span></span> <span data-ttu-id="13203-178">Geschäftliche Abläufe, die von besonderem Interesse sind, wie z. b. neue Benutzer, die sich registrieren oder Aufträge platzieren, können so instrumentiert werden, dass Sie einen Gegenstand im zentralen Überwachungssystem erhöhen.</span><span class="sxs-lookup"><span data-stu-id="13203-178">Business flows that are of particular interest such as new users signing up or orders being placed, may be instrumented such that they increment a counter in the central monitoring system.</span></span> <span data-ttu-id="13203-179">Dadurch werden die Überwachungstools entsperrt, um nicht nur die Integrität der Anwendung, sondern die Integrität des Unternehmens zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="13203-179">This unlocks the monitoring tools to not only monitor the health of the application but the health of the business.</span></span>

<span data-ttu-id="13203-180">Abfragen können in den Protokoll Aggregations Tools erstellt werden, um nach bestimmten Statistiken oder Mustern zu suchen, die dann in grafischer Form auf benutzerdefinierten Dashboards angezeigt werden können.</span><span class="sxs-lookup"><span data-stu-id="13203-180">Queries can be constructed in the log aggregation tools to look for certain statistics or patterns, which can then be displayed in graphical form, on custom dashboards.</span></span> <span data-ttu-id="13203-181">Häufig investieren Teams in große, an der Wand eingebundene anzeigen, die sich durch die Statistiken für eine Anwendung drehen.</span><span class="sxs-lookup"><span data-stu-id="13203-181">Frequently, teams will invest in large, wall-mounted displays that rotate through the statistics related to an application.</span></span> <span data-ttu-id="13203-182">Auf diese Weise ist es einfach, die Probleme zu erkennen, sobald sie auftreten.</span><span class="sxs-lookup"><span data-stu-id="13203-182">This way, it's simple to see the problems as they occur.</span></span>

<span data-ttu-id="13203-183">Cloud-Native Überwachungstools bieten Echt Zeit Telemetrie und Einblicke in apps, unabhängig davon, ob es sich um prozessübergreifende monolithische Anwendungen oder verteilte microservicearchitekturen handelt.</span><span class="sxs-lookup"><span data-stu-id="13203-183">Cloud-native monitoring tools provide real-time telemetry and insight into apps regardless of whether they're single-process monolithic applications or distributed microservice architectures.</span></span> <span data-ttu-id="13203-184">Zu diesen Tools gehören Tools, die das Sammeln von Daten aus der APP sowie Tools zum Abfragen und Anzeigen von Informationen über die Integrität der APP ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="13203-184">They include tools that allow collection of data from the app as well as tools for querying and displaying information about the app's health.</span></span>

## <a name="challenges-with-reacting-to-critical-problems-in-cloud-native-apps"></a><span data-ttu-id="13203-185">Herausforderungen bei der Reaktion auf kritische Probleme in Cloud-Native apps</span><span class="sxs-lookup"><span data-stu-id="13203-185">Challenges with reacting to critical problems in cloud-native apps</span></span>

<span data-ttu-id="13203-186">Wenn Sie auf Probleme mit Ihrer Anwendung reagieren müssen, benötigen Sie eine Möglichkeit, die richtigen Mitarbeiter zu benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="13203-186">If you need to react to problems with your application, you need some way to alert the right personnel.</span></span> <span data-ttu-id="13203-187">Dies ist das dritte in der Cloud Native Anwendungs Wahrnehmbarkeit-Muster und hängt von der Protokollierung und Überwachung ab.</span><span class="sxs-lookup"><span data-stu-id="13203-187">This is the third cloud-native application observability pattern and depends on logging and monitoring.</span></span> <span data-ttu-id="13203-188">Die Anwendung muss über eine Protokollierung verfügen, damit Probleme diagnostiziert werden können, und in einigen Fällen müssen Sie in die Überwachungstools einfließen.</span><span class="sxs-lookup"><span data-stu-id="13203-188">Your application needs to have logging in place to allow problems to be diagnosed, and in some cases to feed into monitoring tools.</span></span> <span data-ttu-id="13203-189">Es muss überwacht werden, um anwendungsmetriken und Integritäts Daten an einem Ort zusammenzufassen.</span><span class="sxs-lookup"><span data-stu-id="13203-189">It needs monitoring to aggregate application metrics and health data in one place.</span></span> <span data-ttu-id="13203-190">Nachdem dies festgelegt wurde, können Regeln erstellt werden, mit denen Warnungen ausgelöst werden, wenn bestimmte Metriken außerhalb der zulässigen Werte liegen.</span><span class="sxs-lookup"><span data-stu-id="13203-190">Once this has been established, rules can be created that will trigger alerts when certain metrics fall outside of acceptable levels.</span></span>

<span data-ttu-id="13203-191">Im Allgemeinen werden Warnungen oberhalb der Überwachung angeordnet, sodass bestimmte Bedingungen geeignete Warnungen lösen, um Teammitglieder über dringende Probleme zu benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="13203-191">Generally, alerts are layered on top of monitoring such that certain conditions trigger appropriate alerts to notify team members of urgent problems.</span></span> <span data-ttu-id="13203-192">Einige Szenarien, die möglicherweise Warnungen erfordern, sind:</span><span class="sxs-lookup"><span data-stu-id="13203-192">Some scenarios that may require alerts include:</span></span>

- <span data-ttu-id="13203-193">Einer der Dienste Ihrer Anwendung reagiert nicht nach einer Ausfallzeit von einer Minute.</span><span class="sxs-lookup"><span data-stu-id="13203-193">One of your application's services is not responding after 1 minute of downtime.</span></span>
- <span data-ttu-id="13203-194">Ihre Anwendung gibt nicht erfolgreiche HTTP-Antworten an mehr als 1% der Anforderungen zurück.</span><span class="sxs-lookup"><span data-stu-id="13203-194">Your application is returning unsuccessful HTTP responses to more than 1% of requests.</span></span>
- <span data-ttu-id="13203-195">Die durchschnittliche Antwortzeit Ihrer Anwendung für Schlüssel Endpunkte überschreitet 2000 ms.</span><span class="sxs-lookup"><span data-stu-id="13203-195">Your application's average response time for key endpoints exceeds 2000 ms.</span></span>

### <a name="alerts-in-cloud-native-apps"></a><span data-ttu-id="13203-196">Warnungen in Cloud-Native apps</span><span class="sxs-lookup"><span data-stu-id="13203-196">Alerts in cloud-native apps</span></span>

<span data-ttu-id="13203-197">Sie können Abfragen für die Überwachungstools erstellen, um nach bekannten Fehlerbedingungen zu suchen.</span><span class="sxs-lookup"><span data-stu-id="13203-197">You can craft queries against the monitoring tools to look for known failure conditions.</span></span> <span data-ttu-id="13203-198">Abfragen können beispielsweise die eingehenden Protokolle nach Hinweisen zum HTTP-Statuscode 500 durchsuchen, was auf ein Problem auf einem Webserver hinweist.</span><span class="sxs-lookup"><span data-stu-id="13203-198">For instance, queries could search through the incoming logs for indications of HTTP status code 500, which indicates a problem on a web server.</span></span> <span data-ttu-id="13203-199">Sobald eine dieser Informationen erkannt wird, könnte eine e-Mail oder eine SMS an den Besitzer des Ursprungs dienstanders gesendet werden, der mit der Untersuchung beginnen kann.</span><span class="sxs-lookup"><span data-stu-id="13203-199">As soon as one of these is detected, then an e-mail or an SMS could be sent to the owner of the originating service who can begin to investigate.</span></span>

<span data-ttu-id="13203-200">In der Regel reicht ein einzelner 500-Fehler jedoch nicht aus, um zu ermitteln, ob ein Problem aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="13203-200">Typically, though, a single 500 error isn't enough to determine that a problem has occurred.</span></span> <span data-ttu-id="13203-201">Dies könnte bedeuten, dass ein Benutzer sein Kennwort falsch eingegeben oder falsch formatierte Daten eingegeben hat.</span><span class="sxs-lookup"><span data-stu-id="13203-201">It could mean that a user mistyped their password or entered some malformed data.</span></span> <span data-ttu-id="13203-202">Die Warnungs Abfragen können so gestaltet werden, dass Sie nur ausgelöst werden, wenn eine höhere Anzahl von 500 Fehlern erkannt wird.</span><span class="sxs-lookup"><span data-stu-id="13203-202">The alert queries can be crafted to only fire when a larger than average number of 500 errors are detected.</span></span>

<span data-ttu-id="13203-203">Eines der schädlichsten Muster bei der Warnung ist, dass zu viele Warnungen ausgelöst werden, damit die Menschen untersucht werden können.</span><span class="sxs-lookup"><span data-stu-id="13203-203">One of the most damaging patterns in alerting is to fire too many alerts for humans to investigate.</span></span> <span data-ttu-id="13203-204">Dienst Besitzer werden schnell zu Fehlern, die Sie zuvor untersucht haben und als harmlos eingestuft werden.</span><span class="sxs-lookup"><span data-stu-id="13203-204">Service owners will rapidly become desensitized to errors that they've previously investigated and found to be benign.</span></span> <span data-ttu-id="13203-205">Wenn dann echte Fehler auftreten, gehen Sie beim Rauschen von Hunderten falsch positiven Ergebnissen verloren.</span><span class="sxs-lookup"><span data-stu-id="13203-205">Then, when true errors occur, they'll be lost in the noise of hundreds of false positives.</span></span> <span data-ttu-id="13203-206">Das Gleichnis der Person [, die Wolf ausgerufen](https://en.wikipedia.org/wiki/The_Boy_Who_Cried_Wolf) hat, wird häufig untergeordneten Elementen mitgeteilt, dass Sie von dieser großen Gefahr gewarnt werden.</span><span class="sxs-lookup"><span data-stu-id="13203-206">The parable of the [Boy Who Cried Wolf](https://en.wikipedia.org/wiki/The_Boy_Who_Cried_Wolf) is frequently told to children to warn them of this very danger.</span></span> <span data-ttu-id="13203-207">Es ist wichtig sicherzustellen, dass die Warnungen, die ausgelöst werden, auf ein echtes Problem hindeuten.</span><span class="sxs-lookup"><span data-stu-id="13203-207">It's important to ensure that the alerts that do fire are indicative of a real problem.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="13203-208">[Zurück](monitoring-health.md)
>[Weiter](logging-with-elastic-stack.md)</span><span class="sxs-lookup"><span data-stu-id="13203-208">[Previous](monitoring-health.md)
[Next](logging-with-elastic-stack.md)</span></span>
